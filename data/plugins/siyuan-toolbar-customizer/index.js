"use strict";var Vi=Object.defineProperty;var Yi=(e,t,n)=>t in e?Vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>Yi(e,typeof t!="symbol"?t+"":t,n);const Q=require("siyuan"),Gi="siyuan-toolbar-customizer",Ji="whaleðŸ‹",Zi="https://github.com/HaoCeans/siyuan-toolbar-customizer",Xi="2.0.0",Qi="3.0.0",es=["all"],ts=["all"],ns=!0,os={default:"Toolbar Customizer",zh_CN:"å·¥å…·æ å®šåˆ¶å™¨"},is={default:"A powerful toolbar customization plugin for SiYuan Notes. Supports custom buttons, mobile toolbar positioning, click-sequence automation, and more.",zh_CN:"å¼ºå¤§çš„æ€æºç¬”è®°å·¥å…·æ å®šåˆ¶æ’ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰æŒ‰é’®ã€æ‰‹æœºç«¯å·¥å…·æ ä½ç½®è°ƒæ•´ã€ç‚¹å‡»åºåˆ—è‡ªåŠ¨åŒ–ç­‰åŠŸèƒ½ã€‚"},ss={default:"README.md",zh_CN:"README_zh_CN.md"},rs={custom:[]},ls=["toolbar","customization","mobile","automation","buttons","å·¥å…·æ ","è‡ªå®šä¹‰","æ‰‹æœºç«¯","è‡ªåŠ¨åŒ–","æŒ‰é’®","ç§»åŠ¨ç«¯","é²¸é±¼"],cs={name:Gi,author:Ji,url:Zi,version:Xi,minAppVersion:Qi,backends:es,frontends:ts,disabledInPublish:ns,displayName:os,description:is,readme:ss,funding:rs,keywords:ls};/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const oe={},kt=[],Re=()=>{},Uo=()=>!1,cn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),On=e=>e.startsWith("onUpdate:"),he=Object.assign,Hn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},as=Object.prototype.hasOwnProperty,J=(e,t)=>as.call(e,t),U=Array.isArray,It=e=>an(e)==="[object Map]",ds=e=>an(e)==="[object Set]",K=e=>typeof e=="function",fe=e=>typeof e=="string",wt=e=>typeof e=="symbol",ae=e=>e!==null&&typeof e=="object",Vo=e=>(ae(e)||K(e))&&K(e.then)&&K(e.catch),us=Object.prototype.toString,an=e=>us.call(e),fs=e=>an(e).slice(8,-1),ps=e=>an(e)==="[object Object]",qn=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,At=Rn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dn=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ms=/-\w/g,et=dn(e=>e.replace(ms,t=>t.slice(1).toUpperCase())),hs=/\B([A-Z])/g,pt=dn(e=>e.replace(hs,"-$1").toLowerCase()),Yo=dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),bn=dn(e=>e?`on${Yo(e)}`:""),ct=(e,t)=>!Object.is(e,t),gn=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Go=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},bs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let fo;const un=()=>fo||(fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jn(e){if(U(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=fe(i)?vs(i):jn(i);if(o)for(const s in o)t[s]=o[s]}return t}else if(fe(e)||ae(e))return e}const gs=/;(?![^(]*\))/g,xs=/:([^]+)/,ys=/\/\*[^]*?\*\//g;function vs(e){const t={};return e.replace(ys,"").split(gs).forEach(n=>{if(n){const i=n.split(xs);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Wn(e){let t="";if(fe(e))t=e;else if(U(e))for(let n=0;n<e.length;n++){const i=Wn(e[n]);i&&(t+=i+" ")}else if(ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ws=Rn(Cs);function Jo(e){return!!e||e===""}/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Te;class Es{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Te,!t&&Te&&(this.index=(Te.scopes||(Te.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Te;try{return Te=this,t()}finally{Te=n}}}on(){++this._on===1&&(this.prevScope=Te,Te=this)}off(){this._on>0&&--this._on===0&&(Te=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Ts(){return Te}let ne;const xn=new WeakSet;class Zo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Te&&Te.active&&Te.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xn.has(this)&&(xn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,po(this),ei(this);const t=ne,n=Ie;ne=this,Ie=!0;try{return this.fn()}finally{ti(this),ne=t,Ie=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Vn(t);this.deps=this.depsTail=void 0,po(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){In(this)&&this.run()}get dirty(){return In(this)}}let Xo=0,Bt,Mt;function Qo(e,t=!1){if(e.flags|=8,t){e.next=Mt,Mt=e;return}e.next=Bt,Bt=e}function Kn(){Xo++}function Un(){if(--Xo>0)return;if(Mt){let t=Mt;for(Mt=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Bt;){let t=Bt;for(Bt=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function ei(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ti(e){let t,n=e.depsTail,i=n;for(;i;){const o=i.prevDep;i.version===-1?(i===n&&(n=o),Vn(i),_s(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=o}e.deps=t,e.depsTail=n}function In(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ni(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ni(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Rt)||(e.globalVersion=Rt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!In(e))))return;e.flags|=2;const t=e.dep,n=ne,i=Ie;ne=e,Ie=!0;try{ei(e);const o=e.fn(e._value);(t.version===0||ct(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ne=n,Ie=i,ti(e),e.flags&=-3}}function Vn(e,t=!1){const{dep:n,prevSub:i,nextSub:o}=e;if(i&&(i.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Vn(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function _s(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ie=!0;const oi=[];function Ke(){oi.push(Ie),Ie=!1}function Ue(){const e=oi.pop();Ie=e===void 0?!0:e}function po(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ne;ne=void 0;try{t()}finally{ne=n}}}let Rt=0;class Ss{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ii{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ne||!Ie||ne===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ne)n=this.activeLink=new Ss(ne,this),ne.deps?(n.prevDep=ne.depsTail,ne.depsTail.nextDep=n,ne.depsTail=n):ne.deps=ne.depsTail=n,si(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=ne.depsTail,n.nextDep=void 0,ne.depsTail.nextDep=n,ne.depsTail=n,ne.deps===n&&(ne.deps=i)}return n}trigger(t){this.version++,Rt++,this.notify(t)}notify(t){Kn();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Un()}}}function si(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)si(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const An=new WeakMap,at=Symbol(""),Bn=Symbol(""),Ot=Symbol("");function me(e,t,n){if(Ie&&ne){let i=An.get(e);i||An.set(e,i=new Map);let o=i.get(n);o||(i.set(n,o=new ii),o.map=i,o.key=n),o.track()}}function We(e,t,n,i,o,s){const r=An.get(e);if(!r){Rt++;return}const l=c=>{c&&c.trigger()};if(Kn(),t==="clear")r.forEach(l);else{const c=U(e),d=c&&qn(n);if(c&&n==="length"){const a=Number(i);r.forEach((f,m)=>{(m==="length"||m===Ot||!wt(m)&&m>=a)&&l(f)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),d&&l(r.get(Ot)),t){case"add":c?d&&l(r.get("length")):(l(r.get(at)),It(e)&&l(r.get(Bn)));break;case"delete":c||(l(r.get(at)),It(e)&&l(r.get(Bn)));break;case"set":It(e)&&l(r.get(at));break}}Un()}function mt(e){const t=X(e);return t===e?t:(me(t,"iterate",Ot),Oe(e)?t:t.map(ft))}function Yn(e){return me(e=X(e),"iterate",Ot),e}function Ge(e,t){return ut(e)?bt(e)?Ht(ft(t)):Ht(t):ft(t)}const ks={__proto__:null,[Symbol.iterator](){return yn(this,Symbol.iterator,e=>Ge(this,e))},concat(...e){return mt(this).concat(...e.map(t=>U(t)?mt(t):t))},entries(){return yn(this,"entries",e=>(e[1]=Ge(this,e[1]),e))},every(e,t){return qe(this,"every",e,t,void 0,arguments)},filter(e,t){return qe(this,"filter",e,t,n=>n.map(i=>Ge(this,i)),arguments)},find(e,t){return qe(this,"find",e,t,n=>Ge(this,n),arguments)},findIndex(e,t){return qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return qe(this,"findLast",e,t,n=>Ge(this,n),arguments)},findLastIndex(e,t){return qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return vn(this,"includes",e)},indexOf(...e){return vn(this,"indexOf",e)},join(e){return mt(this).join(e)},lastIndexOf(...e){return vn(this,"lastIndexOf",e)},map(e,t){return qe(this,"map",e,t,void 0,arguments)},pop(){return Tt(this,"pop")},push(...e){return Tt(this,"push",e)},reduce(e,...t){return mo(this,"reduce",e,t)},reduceRight(e,...t){return mo(this,"reduceRight",e,t)},shift(){return Tt(this,"shift")},some(e,t){return qe(this,"some",e,t,void 0,arguments)},splice(...e){return Tt(this,"splice",e)},toReversed(){return mt(this).toReversed()},toSorted(e){return mt(this).toSorted(e)},toSpliced(...e){return mt(this).toSpliced(...e)},unshift(...e){return Tt(this,"unshift",e)},values(){return yn(this,"values",e=>Ge(this,e))}};function yn(e,t,n){const i=Yn(e),o=i[t]();return i!==e&&!Oe(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.done||(s.value=n(s.value)),s}),o}const Is=Array.prototype;function qe(e,t,n,i,o,s){const r=Yn(e),l=r!==e&&!Oe(e),c=r[t];if(c!==Is[t]){const f=c.apply(e,s);return l?ft(f):f}let d=n;r!==e&&(l?d=function(f,m){return n.call(this,Ge(e,f),m,e)}:n.length>2&&(d=function(f,m){return n.call(this,f,m,e)}));const a=c.call(r,d,i);return l&&o?o(a):a}function mo(e,t,n,i){const o=Yn(e);let s=n;return o!==e&&(Oe(e)?n.length>3&&(s=function(r,l,c){return n.call(this,r,l,c,e)}):s=function(r,l,c){return n.call(this,r,Ge(e,l),c,e)}),o[t](s,...i)}function vn(e,t,n){const i=X(e);me(i,"iterate",Ot);const o=i[t](...n);return(o===-1||o===!1)&&Xn(n[0])?(n[0]=X(n[0]),i[t](...n)):o}function Tt(e,t,n=[]){Ke(),Kn();const i=X(e)[t].apply(e,n);return Un(),Ue(),i}const As=Rn("__proto__,__v_isRef,__isVue"),ri=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wt));function Bs(e){wt(e)||(e=String(e));const t=X(this);return me(t,"has",e),t.hasOwnProperty(e)}class li{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(o?s?Os:ui:s?di:ai).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=U(t);if(!o){let c;if(r&&(c=ks[n]))return c;if(n==="hasOwnProperty")return Bs}const l=Reflect.get(t,n,Ce(t)?t:i);if((wt(n)?ri.has(n):As(n))||(o||me(t,"get",n),s))return l;if(Ce(l)){const c=r&&qn(n)?l:l.value;return o&&ae(c)?Dn(c):c}return ae(l)?o?Dn(l):Jn(l):l}}class ci extends li{constructor(t=!1){super(!1,t)}set(t,n,i,o){let s=t[n];const r=U(t)&&qn(n);if(!this._isShallow){const d=ut(s);if(!Oe(i)&&!ut(i)&&(s=X(s),i=X(i)),!r&&Ce(s)&&!Ce(i))return d||(s.value=i),!0}const l=r?Number(n)<t.length:J(t,n),c=Reflect.set(t,n,i,Ce(t)?t:o);return t===X(o)&&(l?ct(i,s)&&We(t,"set",n,i):We(t,"add",n,i)),c}deleteProperty(t,n){const i=J(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&i&&We(t,"delete",n,void 0),o}has(t,n){const i=Reflect.has(t,n);return(!wt(n)||!ri.has(n))&&me(t,"has",n),i}ownKeys(t){return me(t,"iterate",U(t)?"length":at),Reflect.ownKeys(t)}}class Ms extends li{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ds=new ci,Fs=new Ms,Ns=new ci(!0);const Mn=e=>e,Vt=e=>Reflect.getPrototypeOf(e);function zs(e,t,n){return function(...i){const o=this.__v_raw,s=X(o),r=It(s),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,d=o[e](...i),a=n?Mn:t?Ht:ft;return!t&&me(s,"iterate",c?Bn:at),{next(){const{value:f,done:m}=d.next();return m?{value:f,done:m}:{value:l?[a(f[0]),a(f[1])]:a(f),done:m}},[Symbol.iterator](){return this}}}}function Yt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ls(e,t){const n={get(o){const s=this.__v_raw,r=X(s),l=X(o);e||(ct(o,l)&&me(r,"get",o),me(r,"get",l));const{has:c}=Vt(r),d=t?Mn:e?Ht:ft;if(c.call(r,o))return d(s.get(o));if(c.call(r,l))return d(s.get(l));s!==r&&s.get(o)},get size(){const o=this.__v_raw;return!e&&me(X(o),"iterate",at),o.size},has(o){const s=this.__v_raw,r=X(s),l=X(o);return e||(ct(o,l)&&me(r,"has",o),me(r,"has",l)),o===l?s.has(o):s.has(o)||s.has(l)},forEach(o,s){const r=this,l=r.__v_raw,c=X(l),d=t?Mn:e?Ht:ft;return!e&&me(c,"iterate",at),l.forEach((a,f)=>o.call(s,d(a),d(f),r))}};return he(n,e?{add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear")}:{add(o){!t&&!Oe(o)&&!ut(o)&&(o=X(o));const s=X(this);return Vt(s).has.call(s,o)||(s.add(o),We(s,"add",o,o)),this},set(o,s){!t&&!Oe(s)&&!ut(s)&&(s=X(s));const r=X(this),{has:l,get:c}=Vt(r);let d=l.call(r,o);d||(o=X(o),d=l.call(r,o));const a=c.call(r,o);return r.set(o,s),d?ct(s,a)&&We(r,"set",o,s):We(r,"add",o,s),this},delete(o){const s=X(this),{has:r,get:l}=Vt(s);let c=r.call(s,o);c||(o=X(o),c=r.call(s,o)),l&&l.call(s,o);const d=s.delete(o);return c&&We(s,"delete",o,void 0),d},clear(){const o=X(this),s=o.size!==0,r=o.clear();return s&&We(o,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=zs(o,e,t)}),n}function Gn(e,t){const n=Ls(e,t);return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(J(n,o)&&o in i?n:i,o,s)}const Ps={get:Gn(!1,!1)},$s={get:Gn(!1,!0)},Rs={get:Gn(!0,!1)};const ai=new WeakMap,di=new WeakMap,ui=new WeakMap,Os=new WeakMap;function Hs(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qs(e){return e.__v_skip||!Object.isExtensible(e)?0:Hs(fs(e))}function Jn(e){return ut(e)?e:Zn(e,!1,Ds,Ps,ai)}function js(e){return Zn(e,!1,Ns,$s,di)}function Dn(e){return Zn(e,!0,Fs,Rs,ui)}function Zn(e,t,n,i,o){if(!ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=qs(e);if(s===0)return e;const r=o.get(e);if(r)return r;const l=new Proxy(e,s===2?i:n);return o.set(e,l),l}function bt(e){return ut(e)?bt(e.__v_raw):!!(e&&e.__v_isReactive)}function ut(e){return!!(e&&e.__v_isReadonly)}function Oe(e){return!!(e&&e.__v_isShallow)}function Xn(e){return e?!!e.__v_raw:!1}function X(e){const t=e&&e.__v_raw;return t?X(t):e}function Ws(e){return!J(e,"__v_skip")&&Object.isExtensible(e)&&Go(e,"__v_skip",!0),e}const ft=e=>ae(e)?Jn(e):e,Ht=e=>ae(e)?Dn(e):e;function Ce(e){return e?e.__v_isRef===!0:!1}function Ks(e){return Ce(e)?e.value:e}const Us={get:(e,t,n)=>t==="__v_raw"?e:Ks(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return Ce(o)&&!Ce(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function fi(e){return bt(e)?e:new Proxy(e,Us)}class Vs{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ii(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ne!==this)return Qo(this,!0),!0}get value(){const t=this.dep.track();return ni(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ys(e,t,n=!1){let i,o;return K(e)?i=e:(i=e.get,o=e.set),new Vs(i,o,n)}const Gt={},en=new WeakMap;let it;function Gs(e,t=!1,n=it){if(n){let i=en.get(n);i||en.set(n,i=[]),i.push(e)}}function Js(e,t,n=oe){const{immediate:i,deep:o,once:s,scheduler:r,augmentJob:l,call:c}=n,d=x=>o?x:Oe(x)||o===!1||o===0?Xe(x,1):Xe(x);let a,f,m,h,b=!1,E=!1;if(Ce(e)?(f=()=>e.value,b=Oe(e)):bt(e)?(f=()=>d(e),b=!0):U(e)?(E=!0,b=e.some(x=>bt(x)||Oe(x)),f=()=>e.map(x=>{if(Ce(x))return x.value;if(bt(x))return d(x);if(K(x))return c?c(x,2):x()})):K(e)?t?f=c?()=>c(e,2):e:f=()=>{if(m){Ke();try{m()}finally{Ue()}}const x=it;it=a;try{return c?c(e,3,[h]):e(h)}finally{it=x}}:f=Re,t&&o){const x=f,P=o===!0?1/0:o;f=()=>Xe(x(),P)}const L=Ts(),D=()=>{a.stop(),L&&L.active&&Hn(L.effects,a)};if(s&&t){const x=t;t=(...P)=>{x(...P),D()}}let R=E?new Array(e.length).fill(Gt):Gt;const O=x=>{if(!(!(a.flags&1)||!a.dirty&&!x))if(t){const P=a.run();if(o||b||(E?P.some((F,z)=>ct(F,R[z])):ct(P,R))){m&&m();const F=it;it=a;try{const z=[P,R===Gt?void 0:E&&R[0]===Gt?[]:R,h];R=P,c?c(t,3,z):t(...z)}finally{it=F}}}else a.run()};return l&&l(O),a=new Zo(f),a.scheduler=r?()=>r(O,!1):O,h=x=>Gs(x,!1,a),m=a.onStop=()=>{const x=en.get(a);if(x){if(c)c(x,4);else for(const P of x)P();en.delete(a)}},t?i?O(!0):R=a.run():r?r(O.bind(null,!0),!0):a.run(),D.pause=a.pause.bind(a),D.resume=a.resume.bind(a),D.stop=D,D}function Xe(e,t=1/0,n){if(t<=0||!ae(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ce(e))Xe(e.value,t,n);else if(U(e))for(let i=0;i<e.length;i++)Xe(e[i],t,n);else if(ds(e)||It(e))e.forEach(i=>{Xe(i,t,n)});else if(ps(e)){for(const i in e)Xe(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Xe(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wt(e,t,n,i){try{return i?e(...i):e()}catch(o){fn(o,t,n)}}function He(e,t,n,i){if(K(e)){const o=Wt(e,t,n,i);return o&&Vo(o)&&o.catch(s=>{fn(s,t,n)}),o}if(U(e)){const o=[];for(let s=0;s<e.length;s++)o.push(He(e[s],t,n,i));return o}}function fn(e,t,n,i=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||oe;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const a=l.ec;if(a){for(let f=0;f<a.length;f++)if(a[f](e,c,d)===!1)return}l=l.parent}if(s){Ke(),Wt(s,null,10,[e,c,d]),Ue();return}}Zs(e,n,o,i,r)}function Zs(e,t,n,i=!0,o=!1){if(o)throw e;console.error(e)}const ye=[];let ze=-1;const gt=[];let Je=null,ht=0;const pi=Promise.resolve();let tn=null;function Xs(e){const t=tn||pi;return e?t.then(this?e.bind(this):e):t}function Qs(e){let t=ze+1,n=ye.length;for(;t<n;){const i=t+n>>>1,o=ye[i],s=qt(o);s<e||s===e&&o.flags&2?t=i+1:n=i}return t}function Qn(e){if(!(e.flags&1)){const t=qt(e),n=ye[ye.length-1];!n||!(e.flags&2)&&t>=qt(n)?ye.push(e):ye.splice(Qs(t),0,e),e.flags|=1,mi()}}function mi(){tn||(tn=pi.then(bi))}function er(e){U(e)?gt.push(...e):Je&&e.id===-1?Je.splice(ht+1,0,e):e.flags&1||(gt.push(e),e.flags|=1),mi()}function ho(e,t,n=ze+1){for(;n<ye.length;n++){const i=ye[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ye.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function hi(e){if(gt.length){const t=[...new Set(gt)].sort((n,i)=>qt(n)-qt(i));if(gt.length=0,Je){Je.push(...t);return}for(Je=t,ht=0;ht<Je.length;ht++){const n=Je[ht];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Je=null,ht=0}}const qt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function bi(e){try{for(ze=0;ze<ye.length;ze++){const t=ye[ze];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ze<ye.length;ze++){const t=ye[ze];t&&(t.flags&=-2)}ze=-1,ye.length=0,hi(),tn=null,(ye.length||gt.length)&&bi()}}let $e=null,gi=null;function nn(e){const t=$e;return $e=e,gi=e&&e.type.__scopeId||null,t}function tr(e,t=$e,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&_o(-1);const s=nn(t);let r;try{r=e(...o)}finally{nn(s),i._d&&_o(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function tt(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let r=0;r<o.length;r++){const l=o[r];s&&(l.oldValue=s[r].value);let c=l.dir[i];c&&(Ke(),He(c,n,8,[e.el,l,e,t]),Ue())}}function nr(e,t){if(ve){let n=ve.provides;const i=ve.parent&&ve.parent.provides;i===n&&(n=ve.provides=Object.create(i)),n[e]=t}}function Zt(e,t,n=!1){const i=ol();if(i||xt){let o=xt?xt._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&K(t)?t.call(i&&i.proxy):t}}const or=Symbol.for("v-scx"),ir=()=>Zt(or);function Cn(e,t,n){return xi(e,t,n)}function xi(e,t,n=oe){const{immediate:i,deep:o,flush:s,once:r}=n,l=he({},n),c=t&&i||!t&&s!=="post";let d;if(jt){if(s==="sync"){const h=ir();d=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Re,h.resume=Re,h.pause=Re,h}}const a=ve;l.call=(h,b,E)=>He(h,a,b,E);let f=!1;s==="post"?l.scheduler=h=>{ke(h,a&&a.suspense)}:s!=="sync"&&(f=!0,l.scheduler=(h,b)=>{b?h():Qn(h)}),l.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,a&&(h.id=a.uid,h.i=a))};const m=Js(e,t,l);return jt&&(d?d.push(m):c&&m()),m}function sr(e,t,n){const i=this.proxy,o=fe(e)?e.includes(".")?yi(i,e):()=>i[e]:e.bind(i,i);let s;K(t)?s=t:(s=t.handler,n=t);const r=Kt(this),l=xi(o,s.bind(i),n);return r(),l}function yi(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}const rr=Symbol("_vte"),lr=e=>e.__isTeleport,cr=Symbol("_leaveCb");function eo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,eo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ar(e,t){return K(e)?he({name:e.name},t,{setup:e}):e}function vi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const on=new WeakMap;function Dt(e,t,n,i,o=!1){if(U(e)){e.forEach((b,E)=>Dt(b,t&&(U(t)?t[E]:t),n,i,o));return}if(Ft(i)&&!o){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Dt(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?so(i.component):i.el,r=o?null:s,{i:l,r:c}=e,d=t&&t.r,a=l.refs===oe?l.refs={}:l.refs,f=l.setupState,m=X(f),h=f===oe?Uo:b=>J(m,b);if(d!=null&&d!==c){if(bo(t),fe(d))a[d]=null,h(d)&&(f[d]=null);else if(Ce(d)){d.value=null;const b=t;b.k&&(a[b.k]=null)}}if(K(c))Wt(c,l,12,[r,a]);else{const b=fe(c),E=Ce(c);if(b||E){const L=()=>{if(e.f){const D=b?h(c)?f[c]:a[c]:c.value;if(o)U(D)&&Hn(D,s);else if(U(D))D.includes(s)||D.push(s);else if(b)a[c]=[s],h(c)&&(f[c]=a[c]);else{const R=[s];c.value=R,e.k&&(a[e.k]=R)}}else b?(a[c]=r,h(c)&&(f[c]=r)):E&&(c.value=r,e.k&&(a[e.k]=r))};if(r){const D=()=>{L(),on.delete(e)};D.id=-1,on.set(e,D),ke(D,n)}else bo(e),L()}}}function bo(e){const t=on.get(e);t&&(t.flags|=8,on.delete(e))}un().requestIdleCallback;un().cancelIdleCallback;const Ft=e=>!!e.type.__asyncLoader,Ci=e=>e.type.__isKeepAlive;function dr(e,t){wi(e,"a",t)}function ur(e,t){wi(e,"da",t)}function wi(e,t,n=ve){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(pn(t,i,n),n){let o=n.parent;for(;o&&o.parent;)Ci(o.parent.vnode)&&fr(i,t,n,o),o=o.parent}}function fr(e,t,n,i){const o=pn(t,e,i,!0);Ei(()=>{Hn(i[t],o)},n)}function pn(e,t,n=ve,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...r)=>{Ke();const l=Kt(n),c=He(t,n,e,r);return l(),Ue(),c});return i?o.unshift(s):o.push(s),s}}const Ve=e=>(t,n=ve)=>{(!jt||e==="sp")&&pn(e,(...i)=>t(...i),n)},pr=Ve("bm"),mr=Ve("m"),hr=Ve("bu"),br=Ve("u"),gr=Ve("bum"),Ei=Ve("um"),xr=Ve("sp"),yr=Ve("rtg"),vr=Ve("rtc");function Cr(e,t=ve){pn("ec",e,t)}const wr=Symbol.for("v-ndc"),Fn=e=>e?qi(e)?so(e):Fn(e.parent):null,Nt=he(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fn(e.parent),$root:e=>Fn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>_i(e),$forceUpdate:e=>e.f||(e.f=()=>{Qn(e.update)}),$nextTick:e=>e.n||(e.n=Xs.bind(e.proxy)),$watch:e=>sr.bind(e)}),wn=(e,t)=>e!==oe&&!e.__isScriptSetup&&J(e,t),Er={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:o,props:s,accessCache:r,type:l,appContext:c}=e;if(t[0]!=="$"){const m=r[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(wn(i,t))return r[t]=1,i[t];if(o!==oe&&J(o,t))return r[t]=2,o[t];if(J(s,t))return r[t]=3,s[t];if(n!==oe&&J(n,t))return r[t]=4,n[t];Nn&&(r[t]=0)}}const d=Nt[t];let a,f;if(d)return t==="$attrs"&&me(e.attrs,"get",""),d(e);if((a=l.__cssModules)&&(a=a[t]))return a;if(n!==oe&&J(n,t))return r[t]=4,n[t];if(f=c.config.globalProperties,J(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return wn(o,t)?(o[t]=n,!0):i!==oe&&J(i,t)?(i[t]=n,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,props:s,type:r}},l){let c;return!!(n[l]||e!==oe&&l[0]!=="$"&&J(e,l)||wn(t,l)||J(s,l)||J(i,l)||J(Nt,l)||J(o.config.globalProperties,l)||(c=r.__cssModules)&&c[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:J(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function go(e){return U(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Nn=!0;function Tr(e){const t=_i(e),n=e.proxy,i=e.ctx;Nn=!1,t.beforeCreate&&xo(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:r,watch:l,provide:c,inject:d,created:a,beforeMount:f,mounted:m,beforeUpdate:h,updated:b,activated:E,deactivated:L,beforeDestroy:D,beforeUnmount:R,destroyed:O,unmounted:x,render:P,renderTracked:F,renderTriggered:z,errorCaptured:G,serverPrefetch:ue,expose:le,inheritAttrs:be,components:ge,directives:Ae,filters:Be}=t;if(d&&_r(d,i,null),r)for(const T in r){const I=r[T];K(I)&&(i[T]=I.bind(n))}if(o){const T=o.call(n,n);ae(T)&&(e.data=Jn(T))}if(Nn=!0,s)for(const T in s){const I=s[T],S=K(I)?I.bind(n,n):K(I.get)?I.get.bind(n,n):Re,M=!K(I)&&K(I.set)?I.set.bind(n):Re,W=al({get:S,set:M});Object.defineProperty(i,T,{enumerable:!0,configurable:!0,get:()=>W.value,set:N=>W.value=N})}if(l)for(const T in l)Ti(l[T],i,n,T);if(c){const T=K(c)?c.call(n):c;Reflect.ownKeys(T).forEach(I=>{nr(I,T[I])})}a&&xo(a,e,"c");function ce(T,I){U(I)?I.forEach(S=>T(S.bind(n))):I&&T(I.bind(n))}if(ce(pr,f),ce(mr,m),ce(hr,h),ce(br,b),ce(dr,E),ce(ur,L),ce(Cr,G),ce(vr,F),ce(yr,z),ce(gr,R),ce(Ei,x),ce(xr,ue),U(le))if(le.length){const T=e.exposed||(e.exposed={});le.forEach(I=>{Object.defineProperty(T,I,{get:()=>n[I],set:S=>n[I]=S,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===Re&&(e.render=P),be!=null&&(e.inheritAttrs=be),ge&&(e.components=ge),Ae&&(e.directives=Ae),ue&&vi(e)}function _r(e,t,n=Re){U(e)&&(e=zn(e));for(const i in e){const o=e[i];let s;ae(o)?"default"in o?s=Zt(o.from||i,o.default,!0):s=Zt(o.from||i):s=Zt(o),Ce(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:r=>s.value=r}):t[i]=s}}function xo(e,t,n){He(U(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ti(e,t,n,i){let o=i.includes(".")?yi(n,i):()=>n[i];if(fe(e)){const s=t[e];K(s)&&Cn(o,s)}else if(K(e))Cn(o,e.bind(n));else if(ae(e))if(U(e))e.forEach(s=>Ti(s,t,n,i));else{const s=K(e.handler)?e.handler.bind(n):t[e.handler];K(s)&&Cn(o,s,e)}}function _i(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:r}}=e.appContext,l=s.get(t);let c;return l?c=l:!o.length&&!n&&!i?c=t:(c={},o.length&&o.forEach(d=>sn(c,d,r,!0)),sn(c,t,r)),ae(t)&&s.set(t,c),c}function sn(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&sn(e,s,n,!0),o&&o.forEach(r=>sn(e,r,n,!0));for(const r in t)if(!(i&&r==="expose")){const l=Sr[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Sr={data:yo,props:vo,emits:vo,methods:St,computed:St,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:St,directives:St,watch:Ir,provide:yo,inject:kr};function yo(e,t){return t?e?function(){return he(K(e)?e.call(this,this):e,K(t)?t.call(this,this):t)}:t:e}function kr(e,t){return St(zn(e),zn(t))}function zn(e){if(U(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function St(e,t){return e?he(Object.create(null),e,t):t}function vo(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:he(Object.create(null),go(e),go(t??{})):t}function Ir(e,t){if(!e)return t;if(!t)return e;const n=he(Object.create(null),e);for(const i in t)n[i]=xe(e[i],t[i]);return n}function Si(){return{app:null,config:{isNativeTag:Uo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ar=0;function Br(e,t){return function(i,o=null){K(i)||(i=he({},i)),o!=null&&!ae(o)&&(o=null);const s=Si(),r=new WeakSet,l=[];let c=!1;const d=s.app={_uid:Ar++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:dl,get config(){return s.config},set config(a){},use(a,...f){return r.has(a)||(a&&K(a.install)?(r.add(a),a.install(d,...f)):K(a)&&(r.add(a),a(d,...f))),d},mixin(a){return s.mixins.includes(a)||s.mixins.push(a),d},component(a,f){return f?(s.components[a]=f,d):s.components[a]},directive(a,f){return f?(s.directives[a]=f,d):s.directives[a]},mount(a,f,m){if(!c){const h=d._ceVNode||dt(i,o);return h.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),e(h,a,m),c=!0,d._container=a,a.__vue_app__=d,so(h.component)}},onUnmount(a){l.push(a)},unmount(){c&&(He(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(a,f){return s.provides[a]=f,d},runWithContext(a){const f=xt;xt=d;try{return a()}finally{xt=f}}};return d}}let xt=null;const Mr=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${et(t)}Modifiers`]||e[`${pt(t)}Modifiers`];function Dr(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||oe;let o=n;const s=t.startsWith("update:"),r=s&&Mr(i,t.slice(7));r&&(r.trim&&(o=n.map(a=>fe(a)?a.trim():a)),r.number&&(o=n.map(bs)));let l,c=i[l=bn(t)]||i[l=bn(et(t))];!c&&s&&(c=i[l=bn(pt(t))]),c&&He(c,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,He(d,e,6,o)}}const Fr=new WeakMap;function ki(e,t,n=!1){const i=n?Fr:t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let r={},l=!1;if(!K(e)){const c=d=>{const a=ki(d,t,!0);a&&(l=!0,he(r,a))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(ae(e)&&i.set(e,null),null):(U(s)?s.forEach(c=>r[c]=null):he(r,s),ae(e)&&i.set(e,r),r)}function mn(e,t){return!e||!cn(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,pt(t))||J(e,t))}function Co(e){const{type:t,vnode:n,proxy:i,withProxy:o,propsOptions:[s],slots:r,attrs:l,emit:c,render:d,renderCache:a,props:f,data:m,setupState:h,ctx:b,inheritAttrs:E}=e,L=nn(e);let D,R;try{if(n.shapeFlag&4){const x=o||i,P=x;D=Pe(d.call(P,x,a,f,h,m,b)),R=l}else{const x=t;D=Pe(x.length>1?x(f,{attrs:l,slots:r,emit:c}):x(f,null)),R=t.props?l:Nr(l)}}catch(x){fn(x,e,1),D=dt(vt)}let O=D;if(R&&E!==!1){const x=Object.keys(R),{shapeFlag:P}=O;x.length&&P&7&&(s&&x.some(On)&&(R=zr(R,s)),O=Ct(O,R,!1,!0))}return n.dirs&&(O=Ct(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&eo(O,n.transition),D=O,nn(L),D}const Nr=e=>{let t;for(const n in e)(n==="class"||n==="style"||cn(n))&&((t||(t={}))[n]=e[n]);return t},zr=(e,t)=>{const n={};for(const i in e)(!On(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Lr(e,t,n){const{props:i,children:o,component:s}=e,{props:r,children:l,patchFlag:c}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?wo(i,r,d):!!r;if(c&8){const a=t.dynamicProps;for(let f=0;f<a.length;f++){const m=a[f];if(r[m]!==i[m]&&!mn(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===r?!1:i?r?wo(i,r,d):!0:!!r;return!1}function wo(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!mn(n,s))return!0}return!1}function Pr({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ii={},Ai=()=>Object.create(Ii),Bi=e=>Object.getPrototypeOf(e)===Ii;function $r(e,t,n,i=!1){const o={},s=Ai();e.propsDefaults=Object.create(null),Mi(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=i?o:js(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Rr(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:r}}=e,l=X(o),[c]=e.propsOptions;let d=!1;if((i||r>0)&&!(r&16)){if(r&8){const a=e.vnode.dynamicProps;for(let f=0;f<a.length;f++){let m=a[f];if(mn(e.emitsOptions,m))continue;const h=t[m];if(c)if(J(s,m))h!==s[m]&&(s[m]=h,d=!0);else{const b=et(m);o[b]=Ln(c,l,b,h,e,!1)}else h!==s[m]&&(s[m]=h,d=!0)}}}else{Mi(e,t,o,s)&&(d=!0);let a;for(const f in l)(!t||!J(t,f)&&((a=pt(f))===f||!J(t,a)))&&(c?n&&(n[f]!==void 0||n[a]!==void 0)&&(o[f]=Ln(c,l,f,void 0,e,!0)):delete o[f]);if(s!==l)for(const f in s)(!t||!J(t,f))&&(delete s[f],d=!0)}d&&We(e.attrs,"set","")}function Mi(e,t,n,i){const[o,s]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(At(c))continue;const d=t[c];let a;o&&J(o,a=et(c))?!s||!s.includes(a)?n[a]=d:(l||(l={}))[a]=d:mn(e.emitsOptions,c)||(!(c in i)||d!==i[c])&&(i[c]=d,r=!0)}if(s){const c=X(n),d=l||oe;for(let a=0;a<s.length;a++){const f=s[a];n[f]=Ln(o,c,f,d[f],e,!J(d,f))}}return r}function Ln(e,t,n,i,o,s){const r=e[n];if(r!=null){const l=J(r,"default");if(l&&i===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&K(c)){const{propsDefaults:d}=o;if(n in d)i=d[n];else{const a=Kt(o);i=d[n]=c.call(null,t),a()}}else i=c;o.ce&&o.ce._setProp(n,i)}r[0]&&(s&&!l?i=!1:r[1]&&(i===""||i===pt(n))&&(i=!0))}return i}const Or=new WeakMap;function Di(e,t,n=!1){const i=n?Or:t.propsCache,o=i.get(e);if(o)return o;const s=e.props,r={},l=[];let c=!1;if(!K(e)){const a=f=>{c=!0;const[m,h]=Di(f,t,!0);he(r,m),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}if(!s&&!c)return ae(e)&&i.set(e,kt),kt;if(U(s))for(let a=0;a<s.length;a++){const f=et(s[a]);Eo(f)&&(r[f]=oe)}else if(s)for(const a in s){const f=et(a);if(Eo(f)){const m=s[a],h=r[f]=U(m)||K(m)?{type:m}:he({},m),b=h.type;let E=!1,L=!0;if(U(b))for(let D=0;D<b.length;++D){const R=b[D],O=K(R)&&R.name;if(O==="Boolean"){E=!0;break}else O==="String"&&(L=!1)}else E=K(b)&&b.name==="Boolean";h[0]=E,h[1]=L,(E||J(h,"default"))&&l.push(f)}}const d=[r,l];return ae(e)&&i.set(e,d),d}function Eo(e){return e[0]!=="$"&&!At(e)}const to=e=>e==="_"||e==="_ctx"||e==="$stable",no=e=>U(e)?e.map(Pe):[Pe(e)],Hr=(e,t,n)=>{if(t._n)return t;const i=tr((...o)=>no(t(...o)),n);return i._c=!1,i},Fi=(e,t,n)=>{const i=e._ctx;for(const o in e){if(to(o))continue;const s=e[o];if(K(s))t[o]=Hr(o,s,i);else if(s!=null){const r=no(s);t[o]=()=>r}}},Ni=(e,t)=>{const n=no(t);e.slots.default=()=>n},zi=(e,t,n)=>{for(const i in t)(n||!to(i))&&(e[i]=t[i])},qr=(e,t,n)=>{const i=e.slots=Ai();if(e.vnode.shapeFlag&32){const o=t._;o?(zi(i,t,n),n&&Go(i,"_",o,!0)):Fi(t,i)}else t&&Ni(e,t)},jr=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,r=oe;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:zi(o,t,n):(s=!t.$stable,Fi(t,o)),r=t}else t&&(Ni(e,t),r={default:1});if(s)for(const l in o)!to(l)&&r[l]==null&&delete o[l]},ke=Yr;function Wr(e){return Kr(e)}function Kr(e,t){const n=un();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:r,createText:l,createComment:c,setText:d,setElementText:a,parentNode:f,nextSibling:m,setScopeId:h=Re,insertStaticContent:b}=e,E=(u,p,g,w=null,y=null,v=null,A=void 0,k=null,_=!!p.dynamicChildren)=>{if(u===p)return;u&&!_t(u,p)&&(w=ee(u),N(u,y,v,!0),u=null),p.patchFlag===-2&&(_=!1,p.dynamicChildren=null);const{type:C,ref:H,shapeFlag:B}=p;switch(C){case hn:L(u,p,g,w);break;case vt:D(u,p,g,w);break;case Tn:u==null&&R(p,g,w,A);break;case Le:ge(u,p,g,w,y,v,A,k,_);break;default:B&1?P(u,p,g,w,y,v,A,k,_):B&6?Ae(u,p,g,w,y,v,A,k,_):(B&64||B&128)&&C.process(u,p,g,w,y,v,A,k,_,re)}H!=null&&y?Dt(H,u&&u.ref,v,p||u,!p):H==null&&u&&u.ref!=null&&Dt(u.ref,null,v,u,!0)},L=(u,p,g,w)=>{if(u==null)i(p.el=l(p.children),g,w);else{const y=p.el=u.el;p.children!==u.children&&d(y,p.children)}},D=(u,p,g,w)=>{u==null?i(p.el=c(p.children||""),g,w):p.el=u.el},R=(u,p,g,w)=>{[u.el,u.anchor]=b(u.children,p,g,w,u.el,u.anchor)},O=({el:u,anchor:p},g,w)=>{let y;for(;u&&u!==p;)y=m(u),i(u,g,w),u=y;i(p,g,w)},x=({el:u,anchor:p})=>{let g;for(;u&&u!==p;)g=m(u),o(u),u=g;o(p)},P=(u,p,g,w,y,v,A,k,_)=>{if(p.type==="svg"?A="svg":p.type==="math"&&(A="mathml"),u==null)F(p,g,w,y,v,A,k,_);else{const C=u.el&&u.el._isVueCE?u.el:null;try{C&&C._beginPatch(),ue(u,p,y,v,A,k,_)}finally{C&&C._endPatch()}}},F=(u,p,g,w,y,v,A,k)=>{let _,C;const{props:H,shapeFlag:B,transition:$,dirs:q}=u;if(_=u.el=r(u.type,v,H&&H.is,H),B&8?a(_,u.children):B&16&&G(u.children,_,null,w,y,En(u,v),A,k),q&&tt(u,null,w,"created"),z(_,u,u.scopeId,A,w),H){for(const te in H)te!=="value"&&!At(te)&&s(_,te,null,H[te],v,w);"value"in H&&s(_,"value",null,H.value,v),(C=H.onVnodeBeforeMount)&&Ne(C,w,u)}q&&tt(u,null,w,"beforeMount");const V=Ur(y,$);V&&$.beforeEnter(_),i(_,p,g),((C=H&&H.onVnodeMounted)||V||q)&&ke(()=>{C&&Ne(C,w,u),V&&$.enter(_),q&&tt(u,null,w,"mounted")},y)},z=(u,p,g,w,y)=>{if(g&&h(u,g),w)for(let v=0;v<w.length;v++)h(u,w[v]);if(y){let v=y.subTree;if(p===v||Ri(v.type)&&(v.ssContent===p||v.ssFallback===p)){const A=y.vnode;z(u,A,A.scopeId,A.slotScopeIds,y.parent)}}},G=(u,p,g,w,y,v,A,k,_=0)=>{for(let C=_;C<u.length;C++){const H=u[C]=k?Ze(u[C]):Pe(u[C]);E(null,H,p,g,w,y,v,A,k)}},ue=(u,p,g,w,y,v,A)=>{const k=p.el=u.el;let{patchFlag:_,dynamicChildren:C,dirs:H}=p;_|=u.patchFlag&16;const B=u.props||oe,$=p.props||oe;let q;if(g&&nt(g,!1),(q=$.onVnodeBeforeUpdate)&&Ne(q,g,p,u),H&&tt(p,u,g,"beforeUpdate"),g&&nt(g,!0),(B.innerHTML&&$.innerHTML==null||B.textContent&&$.textContent==null)&&a(k,""),C?le(u.dynamicChildren,C,k,g,w,En(p,y),v):A||I(u,p,k,null,g,w,En(p,y),v,!1),_>0){if(_&16)be(k,B,$,g,y);else if(_&2&&B.class!==$.class&&s(k,"class",null,$.class,y),_&4&&s(k,"style",B.style,$.style,y),_&8){const V=p.dynamicProps;for(let te=0;te<V.length;te++){const Z=V[te],we=B[Z],Ee=$[Z];(Ee!==we||Z==="value")&&s(k,Z,we,Ee,y,g)}}_&1&&u.children!==p.children&&a(k,p.children)}else!A&&C==null&&be(k,B,$,g,y);((q=$.onVnodeUpdated)||H)&&ke(()=>{q&&Ne(q,g,p,u),H&&tt(p,u,g,"updated")},w)},le=(u,p,g,w,y,v,A)=>{for(let k=0;k<p.length;k++){const _=u[k],C=p[k],H=_.el&&(_.type===Le||!_t(_,C)||_.shapeFlag&198)?f(_.el):g;E(_,C,H,null,w,y,v,A,!0)}},be=(u,p,g,w,y)=>{if(p!==g){if(p!==oe)for(const v in p)!At(v)&&!(v in g)&&s(u,v,p[v],null,y,w);for(const v in g){if(At(v))continue;const A=g[v],k=p[v];A!==k&&v!=="value"&&s(u,v,k,A,y,w)}"value"in g&&s(u,"value",p.value,g.value,y)}},ge=(u,p,g,w,y,v,A,k,_)=>{const C=p.el=u?u.el:l(""),H=p.anchor=u?u.anchor:l("");let{patchFlag:B,dynamicChildren:$,slotScopeIds:q}=p;q&&(k=k?k.concat(q):q),u==null?(i(C,g,w),i(H,g,w),G(p.children||[],g,H,y,v,A,k,_)):B>0&&B&64&&$&&u.dynamicChildren&&u.dynamicChildren.length===$.length?(le(u.dynamicChildren,$,g,y,v,A,k),(p.key!=null||y&&p===y.subTree)&&Li(u,p,!0)):I(u,p,g,H,y,v,A,k,_)},Ae=(u,p,g,w,y,v,A,k,_)=>{p.slotScopeIds=k,u==null?p.shapeFlag&512?y.ctx.activate(p,g,w,A,_):Be(p,g,w,y,v,A,_):Ye(u,p,_)},Be=(u,p,g,w,y,v,A)=>{const k=u.component=nl(u,w,y);if(Ci(u)&&(k.ctx.renderer=re),il(k,!1,A),k.asyncDep){if(y&&y.registerDep(k,ce,A),!u.el){const _=k.subTree=dt(vt);D(null,_,p,g),u.placeholder=_.el}}else ce(k,u,p,g,y,v,A)},Ye=(u,p,g)=>{const w=p.component=u.component;if(Lr(u,p,g))if(w.asyncDep&&!w.asyncResolved){T(w,p,g);return}else w.next=p,w.update();else p.el=u.el,w.vnode=p},ce=(u,p,g,w,y,v,A)=>{const k=()=>{if(u.isMounted){let{next:B,bu:$,u:q,parent:V,vnode:te}=u;{const De=Pi(u);if(De){B&&(B.el=te.el,T(u,B,A)),De.asyncDep.then(()=>{u.isUnmounted||k()});return}}let Z=B,we;nt(u,!1),B?(B.el=te.el,T(u,B,A)):B=te,$&&gn($),(we=B.props&&B.props.onVnodeBeforeUpdate)&&Ne(we,V,B,te),nt(u,!0);const Ee=Co(u),Me=u.subTree;u.subTree=Ee,E(Me,Ee,f(Me.el),ee(Me),u,y,v),B.el=Ee.el,Z===null&&Pr(u,Ee.el),q&&ke(q,y),(we=B.props&&B.props.onVnodeUpdated)&&ke(()=>Ne(we,V,B,te),y)}else{let B;const{el:$,props:q}=p,{bm:V,m:te,parent:Z,root:we,type:Ee}=u,Me=Ft(p);nt(u,!1),V&&gn(V),!Me&&(B=q&&q.onVnodeBeforeMount)&&Ne(B,Z,p),nt(u,!0);{we.ce&&we.ce._def.shadowRoot!==!1&&we.ce._injectChildStyle(Ee);const De=u.subTree=Co(u);E(null,De,g,w,u,y,v),p.el=De.el}if(te&&ke(te,y),!Me&&(B=q&&q.onVnodeMounted)){const De=p;ke(()=>Ne(B,Z,De),y)}(p.shapeFlag&256||Z&&Ft(Z.vnode)&&Z.vnode.shapeFlag&256)&&u.a&&ke(u.a,y),u.isMounted=!0,p=g=w=null}};u.scope.on();const _=u.effect=new Zo(k);u.scope.off();const C=u.update=_.run.bind(_),H=u.job=_.runIfDirty.bind(_);H.i=u,H.id=u.uid,_.scheduler=()=>Qn(H),nt(u,!0),C()},T=(u,p,g)=>{p.component=u;const w=u.vnode.props;u.vnode=p,u.next=null,Rr(u,p.props,w,g),jr(u,p.children,g),Ke(),ho(u),Ue()},I=(u,p,g,w,y,v,A,k,_=!1)=>{const C=u&&u.children,H=u?u.shapeFlag:0,B=p.children,{patchFlag:$,shapeFlag:q}=p;if($>0){if($&128){M(C,B,g,w,y,v,A,k,_);return}else if($&256){S(C,B,g,w,y,v,A,k,_);return}}q&8?(H&16&&ie(C,y,v),B!==C&&a(g,B)):H&16?q&16?M(C,B,g,w,y,v,A,k,_):ie(C,y,v,!0):(H&8&&a(g,""),q&16&&G(B,g,w,y,v,A,k,_))},S=(u,p,g,w,y,v,A,k,_)=>{u=u||kt,p=p||kt;const C=u.length,H=p.length,B=Math.min(C,H);let $;for($=0;$<B;$++){const q=p[$]=_?Ze(p[$]):Pe(p[$]);E(u[$],q,g,null,y,v,A,k,_)}C>H?ie(u,y,v,!0,!1,B):G(p,g,w,y,v,A,k,_,B)},M=(u,p,g,w,y,v,A,k,_)=>{let C=0;const H=p.length;let B=u.length-1,$=H-1;for(;C<=B&&C<=$;){const q=u[C],V=p[C]=_?Ze(p[C]):Pe(p[C]);if(_t(q,V))E(q,V,g,null,y,v,A,k,_);else break;C++}for(;C<=B&&C<=$;){const q=u[B],V=p[$]=_?Ze(p[$]):Pe(p[$]);if(_t(q,V))E(q,V,g,null,y,v,A,k,_);else break;B--,$--}if(C>B){if(C<=$){const q=$+1,V=q<H?p[q].el:w;for(;C<=$;)E(null,p[C]=_?Ze(p[C]):Pe(p[C]),g,V,y,v,A,k,_),C++}}else if(C>$)for(;C<=B;)N(u[C],y,v,!0),C++;else{const q=C,V=C,te=new Map;for(C=V;C<=$;C++){const _e=p[C]=_?Ze(p[C]):Pe(p[C]);_e.key!=null&&te.set(_e.key,C)}let Z,we=0;const Ee=$-V+1;let Me=!1,De=0;const Et=new Array(Ee);for(C=0;C<Ee;C++)Et[C]=0;for(C=q;C<=B;C++){const _e=u[C];if(we>=Ee){N(_e,y,v,!0);continue}let Fe;if(_e.key!=null)Fe=te.get(_e.key);else for(Z=V;Z<=$;Z++)if(Et[Z-V]===0&&_t(_e,p[Z])){Fe=Z;break}Fe===void 0?N(_e,y,v,!0):(Et[Fe-V]=C+1,Fe>=De?De=Fe:Me=!0,E(_e,p[Fe],g,null,y,v,A,k,_),we++)}const co=Me?Vr(Et):kt;for(Z=co.length-1,C=Ee-1;C>=0;C--){const _e=V+C,Fe=p[_e],ao=p[_e+1],uo=_e+1<H?ao.el||$i(ao):w;Et[C]===0?E(null,Fe,g,uo,y,v,A,k,_):Me&&(Z<0||C!==co[Z]?W(Fe,g,uo,2):Z--)}}},W=(u,p,g,w,y=null)=>{const{el:v,type:A,transition:k,children:_,shapeFlag:C}=u;if(C&6){W(u.component.subTree,p,g,w);return}if(C&128){u.suspense.move(p,g,w);return}if(C&64){A.move(u,p,g,re);return}if(A===Le){i(v,p,g);for(let B=0;B<_.length;B++)W(_[B],p,g,w);i(u.anchor,p,g);return}if(A===Tn){O(u,p,g);return}if(w!==2&&C&1&&k)if(w===0)k.beforeEnter(v),i(v,p,g),ke(()=>k.enter(v),y);else{const{leave:B,delayLeave:$,afterLeave:q}=k,V=()=>{u.ctx.isUnmounted?o(v):i(v,p,g)},te=()=>{v._isLeaving&&v[cr](!0),B(v,()=>{V(),q&&q()})};$?$(v,V,te):te()}else i(v,p,g)},N=(u,p,g,w=!1,y=!1)=>{const{type:v,props:A,ref:k,children:_,dynamicChildren:C,shapeFlag:H,patchFlag:B,dirs:$,cacheIndex:q}=u;if(B===-2&&(y=!1),k!=null&&(Ke(),Dt(k,null,g,u,!0),Ue()),q!=null&&(p.renderCache[q]=void 0),H&256){p.ctx.deactivate(u);return}const V=H&1&&$,te=!Ft(u);let Z;if(te&&(Z=A&&A.onVnodeBeforeUnmount)&&Ne(Z,p,u),H&6)Y(u.component,g,w);else{if(H&128){u.suspense.unmount(g,w);return}V&&tt(u,null,p,"beforeUnmount"),H&64?u.type.remove(u,p,g,re,w):C&&!C.hasOnce&&(v!==Le||B>0&&B&64)?ie(C,p,g,!1,!0):(v===Le&&B&384||!y&&H&16)&&ie(_,p,g),w&&j(u)}(te&&(Z=A&&A.onVnodeUnmounted)||V)&&ke(()=>{Z&&Ne(Z,p,u),V&&tt(u,null,p,"unmounted")},g)},j=u=>{const{type:p,el:g,anchor:w,transition:y}=u;if(p===Le){pe(g,w);return}if(p===Tn){x(u);return}const v=()=>{o(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(u.shapeFlag&1&&y&&!y.persisted){const{leave:A,delayLeave:k}=y,_=()=>A(g,v);k?k(u.el,v,_):_()}else v()},pe=(u,p)=>{let g;for(;u!==p;)g=m(u),o(u),u=g;o(p)},Y=(u,p,g)=>{const{bum:w,scope:y,job:v,subTree:A,um:k,m:_,a:C}=u;To(_),To(C),w&&gn(w),y.stop(),v&&(v.flags|=8,N(A,u,p,g)),k&&ke(k,p),ke(()=>{u.isUnmounted=!0},p)},ie=(u,p,g,w=!1,y=!1,v=0)=>{for(let A=v;A<u.length;A++)N(u[A],p,g,w,y)},ee=u=>{if(u.shapeFlag&6)return ee(u.component.subTree);if(u.shapeFlag&128)return u.suspense.next();const p=m(u.anchor||u.el),g=p&&p[rr];return g?m(g):p};let se=!1;const de=(u,p,g)=>{let w;u==null?p._vnode&&(N(p._vnode,null,null,!0),w=p._vnode.component):E(p._vnode||null,u,p,null,null,null,g),p._vnode=u,se||(se=!0,ho(w),hi(),se=!1)},re={p:E,um:N,m:W,r:j,mt:Be,mc:G,pc:I,pbc:le,n:ee,o:e};return{render:de,hydrate:void 0,createApp:Br(de)}}function En({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ur(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Li(e,t,n=!1){const i=e.children,o=t.children;if(U(i)&&U(o))for(let s=0;s<i.length;s++){const r=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ze(o[s]),l.el=r.el),!n&&l.patchFlag!==-2&&Li(r,l)),l.type===hn&&(l.patchFlag!==-1?l.el=r.el:l.__elIndex=s+(e.type===Le?1:0)),l.type===vt&&!l.el&&(l.el=r.el)}}function Vr(e){const t=e.slice(),n=[0];let i,o,s,r,l;const c=e.length;for(i=0;i<c;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(s=0,r=n.length-1;s<r;)l=s+r>>1,e[n[l]]<d?s=l+1:r=l;d<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,r=n[s-1];s-- >0;)n[s]=r,r=t[r];return n}function Pi(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Pi(t)}function To(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function $i(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?$i(t.subTree):null}const Ri=e=>e.__isSuspense;function Yr(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):er(e)}const Le=Symbol.for("v-fgt"),hn=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Tn=Symbol.for("v-stc");let Qe=null,oo=1;function _o(e,t=!1){oo+=e,e<0&&Qe&&t&&(Qe.hasOnce=!0)}function Oi(e){return e?e.__v_isVNode===!0:!1}function _t(e,t){return e.type===t.type&&e.key===t.key}const Hi=({key:e})=>e??null,Xt=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||Ce(e)||K(e)?{i:$e,r:e,k:t,f:!!n}:e:null);function Gr(e,t=null,n=null,i=0,o=null,s=e===Le?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hi(t),ref:t&&Xt(t),scopeId:gi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:$e};return l?(io(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=fe(n)?8:16),oo>0&&!r&&Qe&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Qe.push(c),c}const dt=Jr;function Jr(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===wr)&&(e=vt),Oi(e)){const l=Ct(e,t,!0);return n&&io(l,n),oo>0&&!s&&Qe&&(l.shapeFlag&6?Qe[Qe.indexOf(e)]=l:Qe.push(l)),l.patchFlag=-2,l}if(cl(e)&&(e=e.__vccOpts),t){t=Zr(t);let{class:l,style:c}=t;l&&!fe(l)&&(t.class=Wn(l)),ae(c)&&(Xn(c)&&!U(c)&&(c=he({},c)),t.style=jn(c))}const r=fe(e)?1:Ri(e)?128:lr(e)?64:ae(e)?4:K(e)?2:0;return Gr(e,t,n,i,o,r,s,!0)}function Zr(e){return e?Xn(e)||Bi(e)?he({},e):e:null}function Ct(e,t,n=!1,i=!1){const{props:o,ref:s,patchFlag:r,children:l,transition:c}=e,d=t?Qr(o||{},t):o,a={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Hi(d),ref:t&&t.ref?n&&s?U(s)?s.concat(Xt(t)):[s,Xt(t)]:Xt(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ct(e.ssContent),ssFallback:e.ssFallback&&Ct(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&i&&eo(a,c.clone(a)),a}function Xr(e=" ",t=0){return dt(hn,null,e,t)}function Pe(e){return e==null||typeof e=="boolean"?dt(vt):U(e)?dt(Le,null,e.slice()):Oi(e)?Ze(e):dt(hn,null,String(e))}function Ze(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ct(e)}function io(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(U(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),io(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Bi(t)?t._ctx=$e:o===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else K(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),i&64?(n=16,t=[Xr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qr(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Wn([t.class,i.class]));else if(o==="style")t.style=jn([t.style,i.style]);else if(cn(o)){const s=t[o],r=i[o];r&&s!==r&&!(U(s)&&s.includes(r))&&(t[o]=s?[].concat(s,r):r)}else o!==""&&(t[o]=i[o])}return t}function Ne(e,t,n,i=null){He(e,t,7,[n,i])}const el=Si();let tl=0;function nl(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||el,s={uid:tl++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Es(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Di(i,o),emitsOptions:ki(i,o),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:i.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Dr.bind(null,s),e.ce&&e.ce(s),s}let ve=null;const ol=()=>ve||$e;let rn,Pn;{const e=un(),t=(n,i)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(i),s=>{o.length>1?o.forEach(r=>r(s)):o[0](s)}};rn=t("__VUE_INSTANCE_SETTERS__",n=>ve=n),Pn=t("__VUE_SSR_SETTERS__",n=>jt=n)}const Kt=e=>{const t=ve;return rn(e),e.scope.on(),()=>{e.scope.off(),rn(t)}},So=()=>{ve&&ve.scope.off(),rn(null)};function qi(e){return e.vnode.shapeFlag&4}let jt=!1;function il(e,t=!1,n=!1){t&&Pn(t);const{props:i,children:o}=e.vnode,s=qi(e);$r(e,i,s,t),qr(e,o,n||t);const r=s?sl(e,t):void 0;return t&&Pn(!1),r}function sl(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Er);const{setup:i}=n;if(i){Ke();const o=e.setupContext=i.length>1?ll(e):null,s=Kt(e),r=Wt(i,e,0,[e.props,o]),l=Vo(r);if(Ue(),s(),(l||e.sp)&&!Ft(e)&&vi(e),l){if(r.then(So,So),t)return r.then(c=>{ko(e,c)}).catch(c=>{fn(c,e,0)});e.asyncDep=r}else ko(e,r)}else ji(e)}function ko(e,t,n){K(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ae(t)&&(e.setupState=fi(t)),ji(e)}function ji(e,t,n){const i=e.type;e.render||(e.render=i.render||Re);{const o=Kt(e);Ke();try{Tr(e)}finally{Ue(),o()}}}const rl={get(e,t){return me(e,"get",""),e[t]}};function ll(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,rl),slots:e.slots,emit:e.emit,expose:t}}function so(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(fi(Ws(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nt)return Nt[n](e)},has(t,n){return n in t||n in Nt}})):e.proxy}function cl(e){return K(e)&&"__vccOpts"in e}const al=(e,t)=>Ys(e,t,jt),dl="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const Io=typeof window<"u"&&window.trustedTypes;if(Io)try{$n=Io.createPolicy("vue",{createHTML:e=>e})}catch{}const Wi=$n?e=>$n.createHTML(e):e=>e,ul="http://www.w3.org/2000/svg",fl="http://www.w3.org/1998/Math/MathML",je=typeof document<"u"?document:null,Ao=je&&je.createElement("template"),pl={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t==="svg"?je.createElementNS(ul,e):t==="mathml"?je.createElementNS(fl,e):n?je.createElement(e,{is:n}):je.createElement(e);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>je.createTextNode(e),createComment:e=>je.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>je.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const r=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{Ao.innerHTML=Wi(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const l=Ao.content;if(i==="svg"||i==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ml=Symbol("_vtc");function hl(e,t,n){const i=e[ml];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bo=Symbol("_vod"),bl=Symbol("_vsh"),gl=Symbol(""),xl=/(?:^|;)\s*display\s*:/;function yl(e,t,n){const i=e.style,o=fe(n);let s=!1;if(n&&!o){if(t)if(fe(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Qt(i,l,"")}else for(const r in t)n[r]==null&&Qt(i,r,"");for(const r in n)r==="display"&&(s=!0),Qt(i,r,n[r])}else if(o){if(t!==n){const r=i[gl];r&&(n+=";"+r),i.cssText=n,s=xl.test(n)}}else t&&e.removeAttribute("style");Bo in e&&(e[Bo]=s?i.display:"",e[bl]&&(i.display="none"))}const Mo=/\s*!important$/;function Qt(e,t,n){if(U(n))n.forEach(i=>Qt(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=vl(e,t);Mo.test(n)?e.setProperty(pt(i),n.replace(Mo,""),"important"):e[i]=n}}const Do=["Webkit","Moz","ms"],_n={};function vl(e,t){const n=_n[t];if(n)return n;let i=et(t);if(i!=="filter"&&i in e)return _n[t]=i;i=Yo(i);for(let o=0;o<Do.length;o++){const s=Do[o]+i;if(s in e)return _n[t]=s}return t}const Fo="http://www.w3.org/1999/xlink";function No(e,t,n,i,o,s=ws(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Fo,t.slice(6,t.length)):e.setAttributeNS(Fo,t,n):n==null||s&&!Jo(n)?e.removeAttribute(t):e.setAttribute(t,s?"":wt(n)?String(n):n)}function zo(e,t,n,i,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Wi(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Jo(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(o||t)}function Cl(e,t,n,i){e.addEventListener(t,n,i)}function wl(e,t,n,i){e.removeEventListener(t,n,i)}const Lo=Symbol("_vei");function El(e,t,n,i,o=null){const s=e[Lo]||(e[Lo]={}),r=s[t];if(i&&r)r.value=i;else{const[l,c]=Tl(t);if(i){const d=s[t]=kl(i,o);Cl(e,l,d,c)}else r&&(wl(e,l,r,c),s[t]=void 0)}}const Po=/(?:Once|Passive|Capture)$/;function Tl(e){let t;if(Po.test(e)){t={};let i;for(;i=e.match(Po);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pt(e.slice(2)),t]}let Sn=0;const _l=Promise.resolve(),Sl=()=>Sn||(_l.then(()=>Sn=0),Sn=Date.now());function kl(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;He(Il(i,n.value),t,5,[i])};return n.value=e,n.attached=Sl(),n}function Il(e,t){if(U(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const $o=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Al=(e,t,n,i,o,s)=>{const r=o==="svg";t==="class"?hl(e,i,r):t==="style"?yl(e,n,i):cn(t)?On(t)||El(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bl(e,t,i,r))?(zo(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&No(e,t,i,r,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(i))?zo(e,et(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),No(e,t,i,r))};function Bl(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&$o(t)&&K(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return $o(t)&&fe(n)?!1:t in e}const Ml=he({patchProp:Al},pl);let Ro;function Dl(){return Ro||(Ro=Wr(Ml))}const Fl=((...e)=>{const t=Dl().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=zl(i);if(!o)return;const s=t._component;!K(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const r=n(o,!1,Nl(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),r},t});function Nl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zl(e){return fe(e)?document.querySelector(e):e}const Ll=ar({__name:"App",setup(e){return(t,n)=>null}}),Pl=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},$l=Pl(Ll,[["__scopeId","data-v-4701a2d1"]]);let yt=null;function Rl(e){return e&&(yt=e),!yt&&!e&&console.error("éœ€è¦å…ˆè°ƒç”¨ init(plugin) åˆå§‹åŒ–æ’ä»¶"),yt}let zt=null;function Ol(e){Rl(e);const t=document.createElement("div");t.classList.toggle("toolbar-customizer-app"),t.id=e.name,zt=Fl($l),zt.mount(t),document.body.appendChild(t)}function Hl(){if(zt&&(zt.unmount(),zt=null),yt){const e=document.getElementById(yt.name);e&&document.body.removeChild(e),yt=null}}const Oo={enableBottomToolbar:!0,openInputOffset:"50px",closeInputOffset:"0px",heightThreshold:70,toolbarBackgroundColor:"#f8f9fa",toolbarOpacity:.95,toolbarHeight:"30px",toolbarZIndex:5},ql=[{id:"plugin-settings-desktop",name:"æ’ä»¶è®¾ç½®",type:"click-sequence",clickSequence:["barPlugins","text:å·¥å…·æ å®šåˆ¶å™¨"],icon:"iconSettings",iconSize:18,minWidth:32,marginRight:8,sort:1,platform:"desktop",showNotification:!0},{id:"open-diary-desktop",name:"æ‰“å¼€æ—¥è®°",type:"shortcut",shortcutKey:"Alt+5",icon:"iconCalendar",iconSize:18,minWidth:32,marginRight:8,sort:2,platform:"desktop",showNotification:!0},{id:"template-time-desktop",name:"æ’å…¥æ—¶åˆ†",type:"template",template:"{{hour}}æ—¶{{minute}}åˆ†",icon:"iconClock",iconSize:18,minWidth:32,marginRight:8,sort:3,platform:"desktop",showNotification:!0}],jl=[{id:"plugin-settings-mobile",name:"æ’ä»¶è®¾ç½®",type:"click-sequence",clickSequence:["toolbarMore","menuPlugin","text:å·¥å…·æ å®šåˆ¶å™¨"],icon:"iconSettings",iconSize:18,minWidth:32,marginRight:8,sort:1,platform:"mobile",showNotification:!0},{id:"open-diary-mobile",name:"æ‰“å¼€æ—¥è®°",type:"shortcut",shortcutKey:"Alt+5",icon:"iconCalendar",iconSize:18,minWidth:32,marginRight:8,sort:2,platform:"mobile",showNotification:!0},{id:"template-time-mobile",name:"æ’å…¥æ—¶åˆ†",type:"template",template:"{{hour}}æ—¶{{minute}}åˆ†",icon:"iconClock",iconSize:18,minWidth:32,marginRight:8,sort:3,platform:"mobile",showNotification:!0},{id:"search-mobile",name:"æœç´¢",type:"builtin",builtinId:"menuSearch",icon:"iconSearch",iconSize:18,minWidth:32,marginRight:8,sort:4,platform:"mobile",showNotification:!0}];let Lt=null,Pt=null,rt=null,lt=null,ln=new Set;function $t(e,t){const n=setTimeout(()=>{ln.delete(n),e()},t);return ln.add(n),n}function Wl(){ln.forEach(e=>clearTimeout(e)),ln.clear()}function ro(){const e=Q.getFrontend();return e==="mobile"||e==="browser-mobile"}function Kl(e){const t=ro();return e.enabled===!1?!1:!!(e.platform==="both"||e.platform==="mobile"&&t||e.platform==="desktop"&&!t)}function Ul(e){if(!ro())return;if(!e.enableBottomToolbar){const o=document.getElementById("mobile-toolbar-custom-style");o&&o.remove();const s=document.querySelectorAll('[data-toolbar-customized="true"]');Array.from(s).forEach(l=>{l.removeAttribute("data-toolbar-customized"),l.removeAttribute("data-input-method")});return}const t=()=>{let o=document.querySelector(".protyle-breadcrumb:not(.protyle-breadcrumb__bar)");return o||(o=document.querySelector(".protyle-breadcrumb__bar")),o?(n(o),!0):!1},n=o=>{if(o.dataset.toolbarCustomized==="true")return;o.dataset.toolbarCustomized="true";let s=window.innerHeight,r=!1;document.documentElement.style.setProperty("--mobile-toolbar-offset",e.closeInputOffset);function l(){const f=window.innerHeight,m=f/s,h=e.heightThreshold/100,b=m<h;b!==r&&(r=b,r?(document.documentElement.style.setProperty("--mobile-toolbar-offset",e.openInputOffset),o.setAttribute("data-input-method","open")):(document.documentElement.style.setProperty("--mobile-toolbar-offset",e.closeInputOffset),o.setAttribute("data-input-method","close"))),s=f}l(),o.setAttribute("data-input-method","close"),Lt=l,window.addEventListener("resize",Lt),document.querySelectorAll('textarea, input[type="text"], .protyle-wysiwyg, .protyle-content, .protyle-input').forEach(f=>{f.addEventListener("focus",()=>{$t(l,300)}),f.addEventListener("blur",()=>{$t(l,300)})});const d="mobile-toolbar-custom-style";let a=document.getElementById(d);a||(a=document.createElement("style"),a.id=d,document.head.appendChild(a)),a.textContent=`
      /* ç§»åŠ¨ç«¯å·¥å…·æ æ ·å¼ - ä¿®å¤ç‰ˆ */
      @media (max-width: 768px) {
        .protyle-breadcrumb__bar[data-input-method],
        .protyle-breadcrumb[data-input-method] {
          position: fixed !important;
          bottom: var(--mobile-toolbar-offset, 0px) !important;
          top: auto !important;
          left: 0 !important;
          right: 0 !important;
          z-index: ${e.toolbarZIndex} !important;
          background: var(--b3-theme-surface) !important;
          border-top: 1px solid var(--b3-border-color) !important;
          padding: 8px 12px !important;
          display: flex !important;
          justify-content: center !important;
          align-items: center !important;
          box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
          transition: bottom 0.3s ease !important;
          backdrop-filter: blur(10px);
          background-color: rgba(var(--b3-theme-surface-rgb), 0.95) !important;
          height: ${e.toolbarHeight} !important; /* åº”ç”¨é«˜åº¦é…ç½® */
          min-height: ${e.toolbarHeight} !important;
        }

        .protyle-breadcrumb__bar[data-input-method="open"],
        .protyle-breadcrumb[data-input-method="open"] {
          bottom: var(--mobile-toolbar-offset, 50px) !important;
        }
        
        .protyle-breadcrumb__bar[data-input-method="close"],
        .protyle-breadcrumb[data-input-method="close"] {
          bottom: var(--mobile-toolbar-offset, 0px) !important;
        }
        
        /* é˜²æ­¢ç¼–è¾‘å™¨å†…å®¹è¢«é®æŒ¡ */
        .protyle {
          padding-bottom: calc(${e.toolbarHeight} + 10px) !important;
        }
        
        /* å®‰å…¨åŒºåŸŸé€‚é… */
        .protyle-breadcrumb__bar[data-input-method],
        .protyle-breadcrumb[data-input-method] {
          padding-bottom: max(8px, env(safe-area-inset-bottom)) !important;
        }
        
        /* ä½¿ç”¨æ€æºåŽŸç”Ÿçš„éšè—ç±» */
        .protyle-breadcrumb__bar[data-input-method].fn__none,
        .protyle-breadcrumb[data-input-method].fn__none {
          display: none !important;
        }
      }
    `};t()||$t(()=>{t()},2e3),Pt=new MutationObserver(()=>{t(),e.enableBottomToolbar&&i()}),Pt.observe(document.body,{childList:!0,subtree:!0}),e.enableBottomToolbar&&i();function i(){const o=document.querySelectorAll('[data-toolbar-customized="true"][data-input-method]');Array.from(o).forEach(r=>{})}rt&&rt.disconnect(),rt=new MutationObserver(()=>{e.enableBottomToolbar&&i()}),rt.observe(document.body,{childList:!0,subtree:!0})}function Vl(e){Ki(),$t(()=>Ho(e),1e3),lt&&document.removeEventListener("click",lt,!0),lt=t=>{t.target.closest(".protyle")&&$t(()=>Ho(e),100)},document.addEventListener("click",lt,!0)}function Ki(){document.querySelectorAll("[data-custom-button]").forEach(t=>t.remove())}function Ho(e){document.querySelectorAll(".protyle").forEach(n=>{const i=n.querySelector('.protyle-breadcrumb__bar [data-type="exit-focus"]')||n.querySelector('.protyle-breadcrumb [data-type="exit-focus"]');if(!i)return;const o=e.filter(r=>Kl(r)).sort((r,l)=>r.sort-l.sort);n.querySelectorAll("[data-custom-button]").forEach(r=>r.remove()),o.forEach(r=>{const l=Yl(r);i.insertAdjacentElement("afterend",l)})})}function Yl(e){const t=document.createElement("button");if(t.dataset.customButton=e.id,t.className="block__icon fn__flex-center ariaLabel",t.setAttribute("aria-label",e.name),t.title=e.name,e.icon.startsWith("icon")){t.style.cssText=`
      line-height: 1;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
      min-height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      padding: 4px;
      margin-right: ${e.marginRight}px;
    `;const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",`${e.iconSize}`),o.setAttribute("height",`${e.iconSize}`),o.style.cssText="display: block;";const s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttribute("href",`#${e.icon}`),o.appendChild(s),t.appendChild(o)}else if(e.icon.startsWith("lucide:")){t.style.cssText=`
      line-height: 1;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
      min-height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      padding: 4px;
      margin-right: ${e.marginRight}px;
    `;const o=e.icon.substring(7);try{const r=require("lucide")[o];if(r){const l=r.toSvg({width:e.iconSize,height:e.iconSize});t.innerHTML=l}else t.textContent=e.icon}catch{t.textContent=e.icon}}else t.style.cssText=`
      line-height: 1;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
      min-height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      padding: 4px;
      font-size: ${e.iconSize}px;
      margin-right: ${e.marginRight}px;
    `,t.textContent=e.icon;let n=null,i=null;return t.addEventListener("mousedown",o=>{const s=window.getSelection();s&&s.rangeCount>0&&(n=s.getRangeAt(0).cloneRange()),i=document.activeElement}),t.addEventListener("click",o=>{o.stopPropagation(),o.preventDefault(),Gl(e,n,i),n=null,i=null}),t}function Gl(e,t=null,n=null){e.showNotification&&Q.showMessage(`æ‰§è¡Œ: ${e.name}`,1500,"info"),e.type==="builtin"?Jl(e):e.type==="template"?Zl(e):e.type==="click-sequence"?Ql(e):e.type==="shortcut"&&lc(e,t,n)}function Jl(e){var o,s;if(!e.builtinId){Q.showMessage(`æŒ‰é’®"${e.name}"æœªé…ç½®åŠŸèƒ½ID`,3e3,"error");return}let t=null;if(t=document.getElementById(e.builtinId),t){st(t);return}if(t=document.querySelector(`[data-id="${e.builtinId}"]`),t){st(t);return}if(t=document.querySelector(`[data-menu-id="${e.builtinId}"]`),t){st(t);return}if(t=document.querySelector(`[data-type="${e.builtinId}"]`),t){st(t);return}const n=e.builtinId.split(" ");if(n.length>0){const r=n.map(l=>`.${l}`).join("");if(t=document.querySelector(r),t){st(t);return}}const i=document.querySelectorAll("button");for(const r of i)if(((s=(o=r.querySelector(".b3-menu__label"))==null?void 0:o.textContent)==null?void 0:s.trim())===e.builtinId){st(r);return}Q.showMessage(`æœªæ‰¾åˆ°åŠŸèƒ½: ${e.builtinId}`,3e3,"error")}function Zl(e){var o;if(!e.template){Q.showMessage(`æŒ‰é’®"${e.name}"æœªé…ç½®æ¨¡æ¿å†…å®¹`,3e3,"error");return}const t=(o=document.activeElement)==null?void 0:o.closest(".protyle");if(!t){Q.showMessage("è¯·å…ˆèšç„¦åˆ°ç¼–è¾‘å™¨",3e3,"info");return}const n=Xl(e.template),i=t.querySelector('[contenteditable="true"]');if(i){const s=new Event("input",{bubbles:!0});try{document.execCommand("insertText",!1,n),i.dispatchEvent(s)}catch{Q.showMessage("æ’å…¥æ¨¡æ¿å¤±è´¥ï¼Œè¯·ç¡®ä¿ç¼–è¾‘å™¨å¤„äºŽå¯ç¼–è¾‘çŠ¶æ€",3e3,"error")}}}function Xl(e){const t=new Date,n=f=>String(f).padStart(2,"0"),i=t.getFullYear(),o=n(t.getMonth()+1),s=n(t.getDate()),r=n(t.getHours()),l=n(t.getMinutes()),c=n(t.getSeconds()),a=["æ˜ŸæœŸæ—¥","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"][t.getDay()];return e.replace(/\{\{datetime\}\}/g,`${i}-${o}-${s} ${r}:${l}:${c}`).replace(/\{\{date\}\}/g,`${i}-${o}-${s}`).replace(/\{\{time\}\}/g,`${r}:${l}:${c}`).replace(/\{\{year\}\}/g,String(i)).replace(/\{\{month\}\}/g,o).replace(/\{\{day\}\}/g,s).replace(/\{\{hour\}\}/g,r).replace(/\{\{minute\}\}/g,l).replace(/\{\{second\}\}/g,c).replace(/\{\{week\}\}/g,a).replace(/\{\{timestamp\}\}/g,String(t.getTime()))}async function Ql(e){if(!e.clickSequence||e.clickSequence.length===0){Q.showMessage(`æŒ‰é’®"${e.name}"æœªé…ç½®ç‚¹å‡»åºåˆ—`,3e3,"error");return}for(let t=0;t<e.clickSequence.length;t++){const n=e.clickSequence[t].trim();if(!n)continue;let i=!1;for(let o=0;o<=2;o++)try{const s=await ec(n,5e3);if(!s)throw new Error(`æœªæ‰¾åˆ°å…ƒç´ : ${n}`);if(!nc(s))throw new Error(`å…ƒç´ ä¸å¯è§: ${n}`);st(s),i=!0;break}catch{if(o===2){Q.showMessage(`ç‚¹å‡»åºåˆ—å¤±è´¥: æ­¥éª¤ ${t+1} - ${n}`,3e3,"error");return}await qo(300)}if(!i)return;await qo(200)}Q.showMessage(`${e.name} æ‰§è¡Œå®Œæˆ`,1500,"info")}function ec(e,t=5e3){return new Promise(n=>{const i=()=>{var a,f;if(e.startsWith("text:")){const m=e.substring(5).trim();return tc(m)}if(e.includes("#")||e.includes(".")||e.includes("[")||e.includes(">")||e.includes(" "))return document.querySelector(e);let l=null;if(l=document.getElementById(e),l||(l=document.querySelector(`[data-id="${e}"]`),l)||(l=document.querySelector(`[data-menu-id="${e}"]`),l)||(l=document.querySelector(`[data-type="${e}"]`),l))return l;const c=e.split(" ");if(c.length>0){const m=c.map(h=>`.${h}`).join("");if(l=document.querySelector(m),l)return l}const d=document.querySelectorAll("button");for(const m of d)if(((f=(a=m.querySelector(".b3-menu__label"))==null?void 0:a.textContent)==null?void 0:f.trim())===e)return m;return null},o=i();if(o){n(o);return}const s=new MutationObserver(()=>{const l=i();l&&(s.disconnect(),clearTimeout(r),n(l))});s.observe(document.body,{childList:!0,subtree:!0,attributes:!0});const r=setTimeout(()=>{s.disconnect(),n(null)},t)})}function tc(e){var r,l,c,d,a,f,m;const t=document.querySelectorAll("button");for(const h of t)if(((r=h.textContent)==null?void 0:r.trim())===e||((c=(l=h.querySelector(".b3-menu__label"))==null?void 0:l.textContent)==null?void 0:c.trim())===e)return h;const n=document.querySelectorAll(".b3-menu__item");for(const h of n)if(((d=h.textContent)==null?void 0:d.trim())===e)return h;const i=document.querySelectorAll("a");for(const h of i)if(((a=h.textContent)==null?void 0:a.trim())===e)return h;const o=document.querySelectorAll("span, div");for(const h of o)if(((f=h.textContent)==null?void 0:f.trim())===e)return h;const s=document.querySelectorAll("*");for(const h of s)if(((m=h.textContent)==null?void 0:m.trim())===e)return h;return null}function nc(e){if(!e)return!1;const t=window.getComputedStyle(e);if(t.display==="none"||t.visibility==="hidden"||t.opacity==="0")return!1;const n=e.getBoundingClientRect();return!(n.width===0||n.height===0)}function qo(e){return new Promise(t=>setTimeout(t,e))}function st(e){try{e.click()}catch{try{const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)}catch{}}}function jo(){Wl(),Ki(),Lt&&(window.removeEventListener("resize",Lt),Lt=null),Pt&&(Pt.disconnect(),Pt=null),rt&&(rt.disconnect(),rt=null),lt&&(document.removeEventListener("click",lt,!0),lt=null);const e=document.getElementById("mobile-toolbar-custom-style");e&&e.remove(),document.querySelectorAll(".protyle-breadcrumb__bar, .protyle-breadcrumb").forEach(n=>{n.getAttribute("data-toolbar-customized")==="true"&&(n.removeAttribute("data-input-method"),n.removeAttribute("data-toolbar-customized"))}),document.documentElement.style.removeProperty("--mobile-toolbar-offset")}function Wo(e){if(!e)return null;const t={key:"",code:"",keyCode:void 0,which:void 0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,bubbles:!0,cancelable:!0,composed:!0,view:window},n=navigator.platform.toUpperCase().indexOf("MAC")>=0;e.includes("âŒ˜")&&(n?t.metaKey=!0:t.ctrlKey=!0),e.includes("âŒƒ")&&(t.ctrlKey=!0),e.includes("â‡§")&&(t.shiftKey=!0),e.includes("âŒ¥")&&(t.altKey=!0);let i=e.replace(/[âŒ˜âŒƒâ‡§âŒ¥]/g,"").trim();if(!i)return null;const o={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,Enter:13,Escape:27,Backspace:8,Tab:9,Delete:46,Space:32,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};if(/^F\d{1,2}$/.test(i))return t.key=i,t.code=i,t.keyCode=o[i],t.which=o[i],t;if(o[i]){const s={Space:" ",Enter:"Enter",Escape:"Escape",Backspace:"Backspace",Tab:"Tab",Delete:"Delete",ArrowUp:"ArrowUp",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight"};return t.key=s[i]||i,t.code=i,t.keyCode=o[i],t.which=o[i],t}return i.length===1?(t.key=i.toUpperCase(),t.keyCode=o[i.toLowerCase()],t.which=o[i.toLowerCase()],/^[A-Z]$/.test(i.toUpperCase())?t.code=`Key${i.toUpperCase()}`:/^[0-9]$/.test(i)?t.code=`Digit${i}`:t.code=i,t):null}function oc(e){let t=e.trim();t=t.replace(/ctrl\+/gi,"âŒ˜").replace(/control\+/gi,"âŒ˜").replace(/shift\+/gi,"â‡§").replace(/alt\+/gi,"âŒ¥").replace(/option\+/gi,"âŒ¥").replace(/cmd\+/gi,"âŒ˜").replace(/command\+/gi,"âŒ˜").replace(/\+/g,"");const n=t.split(/([âŒ˜âŒƒâ‡§âŒ¥])/);for(let r=0;r<n.length;r++)["âŒ˜","âŒƒ","â‡§","âŒ¥"].includes(n[r])||(n[r]=n[r].toUpperCase());t=n.join("");const i=[];let o="";for(const r of t)r==="â‡§"?i.push("â‡§"):r==="âŒ˜"?i.push("âŒ˜"):r==="âŒƒ"?i.push("âŒƒ"):r==="âŒ¥"?i.push("âŒ¥"):o+=r;const s={"â‡§":0,"âŒƒ":1,"âŒ¥":2,"âŒ˜":3};return i.sort((r,l)=>s[r]-s[l]),t=i.join("")+o,t}function ot(e,t){if(!e)return null;for(const n in e){const i=e[n];if(i&&(i.custom===t||i.default===t))return n}return null}function kn(){const e=document.activeElement;if(e){const n=e.closest(".protyle");if(n)return n}const t=document.querySelectorAll(".protyle");for(const n of Array.from(t))if(n)return n;return null}function ic(e){if(!e)return;const t=window.getSelection();t==null||t.removeAllRanges(),t==null||t.addRange(e)}function sc(e){if(!e)return null;const t=window.getSelection();if(!t||t.rangeCount===0)return null;let n=t.anchorNode;for(;n&&n!==e;){if(n.nodeType===Node.ELEMENT_NODE){const i=n;if(i.dataset.nodeId)return i.dataset.nodeId;const o=i.closest("[data-node-id]");if(o&&o.dataset.nodeId)return o.dataset.nodeId}n=n.parentElement}return null}async function rc(e){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(e),!0;const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",t.style.top="0",document.body.appendChild(t),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}catch(t){return console.error("å¤åˆ¶å¤±è´¥:",t),!1}}function lc(e,t=null,n=null){var i,o,s,r,l,c,d,a,f,m,h,b,E,L,D,R,O,x,P,F,z,G,ue,le,be,ge,Ae,Be,Ye,ce;if(!e.shortcutKey){Q.showMessage(`æŒ‰é’®"${e.name}"æœªé…ç½®å¿«æ·é”®`,3e3,"error");return}try{const T=oc(e.shortcutKey);console.log("æ‰§è¡Œå¿«æ·é”®:",e.shortcutKey,"-> è½¬æ¢ä¸º:",T);const I=window;let S=null;if((o=(i=I.siyuan)==null?void 0:i.config)!=null&&o.keymap){const M=I.siyuan.config.keymap;S=ot(M.general,T),!S&&((s=M.editor)!=null&&s.general)&&(S=ot(M.editor.general,T)),!S&&((r=M.editor)!=null&&r.insert)&&(S=ot(M.editor.insert,T)),!S&&((l=M.editor)!=null&&l.heading)&&(S=ot(M.editor.heading,T)),!S&&((c=M.editor)!=null&&c.list)&&(S=ot(M.editor.list,T)),!S&&((d=M.editor)!=null&&d.table)&&(S=ot(M.editor.table,T)),!S&&M.plugin&&(S=ot(M.plugin,T))}if(S){console.log("æ‰¾åˆ°å‘½ä»¤:",S);let M="",W=!1;if((f=(a=I.siyuan)==null?void 0:a.config)!=null&&f.keymap){const N=I.siyuan.config.keymap;if(W=!!((h=(m=N.editor)==null?void 0:m.insert)!=null&&h[S]||(E=(b=N.editor)==null?void 0:b.general)!=null&&E[S]||(D=(L=N.editor)==null?void 0:L.heading)!=null&&D[S]||(O=(R=N.editor)==null?void 0:R.list)!=null&&O[S]||(P=(x=N.editor)==null?void 0:x.table)!=null&&P[S]),N.general&&N.general[S]){const j=N.general[S];M=j.custom||j.default}else if((F=N.editor)!=null&&F.general&&N.editor.general[S]){const j=N.editor.general[S];M=j.custom||j.default}else if((z=N.editor)!=null&&z.insert&&N.editor.insert[S]){const j=N.editor.insert[S];M=j.custom||j.default}else if((G=N.editor)!=null&&G.heading&&N.editor.heading[S]){const j=N.editor.heading[S];M=j.custom||j.default}else if((ue=N.editor)!=null&&ue.list&&N.editor.list[S]){const j=N.editor.list[S];M=j.custom||j.default}else if((le=N.editor)!=null&&le.table&&N.editor.table[S]){const j=N.editor.table[S];M=j.custom||j.default}}if(M){const N=Wo(M);if(N){if(ro()&&W&&["copyBlockRef","copyBlockEmbed","copyText","copyHPath","copyProtocol","copyID","copyPlainText"].includes(S)){const ie=window;let ee=null;if((Ae=(ge=(be=ie.siyuan)==null?void 0:be.mobile)==null?void 0:ge.editor)!=null&&Ae.protyle)ee=ie.siyuan.mobile.editor.protyle;else if((ce=(Ye=(Be=ie.siyuan)==null?void 0:Be.layout)==null?void 0:Ye.centerLayout)!=null&&ce.children){const re=kn();if(re){const Ut=ie.siyuan.layout.centerLayout.children;for(const u of Ut)if(u.children&&u.children.length>0){for(const p of u.children)if(p.panelElement){const g=p.panelElement.querySelector(".protyle");if(g&&g===re&&g.protyle){ee=g.protyle;break}}}}}if(ee&&ee[S])try{ee[S](),Q.showMessage("å¤åˆ¶æˆåŠŸ",1500,"info");return}catch(re){console.error("protyle æ–¹æ³•æ‰§è¡Œå¤±è´¥:",re)}const se=kn(),de=sc(se);if(de){let re="";S==="copyBlockEmbed"?re=`!((${de}))`:S==="copyBlockRef"?re=`((${de}))`:re=`((${de}))`,rc(re).then(Ut=>{Ut?Q.showMessage(`å·²å¤åˆ¶: ${re}`,1500,"info"):Q.showMessage("å¤åˆ¶å¤±è´¥",3e3,"error")});return}}if(W&&t){let ie=null;if(n!=null&&n.matches('[contenteditable="true"]'))ie=n;else{const ee=kn();ie=ee==null?void 0:ee.querySelector('[contenteditable="true"]')}if(ie){ie.focus(),setTimeout(()=>{ic(t);const ee=new KeyboardEvent("keydown",N);ie.dispatchEvent(ee),Q.showMessage(`æ‰§è¡Œ: ${e.shortcutKey}`,1500,"info")},50);return}}const Y=new KeyboardEvent("keydown",N);window.dispatchEvent(Y),console.log("å·²è§¦å‘é”®ç›˜äº‹ä»¶:",M,"ç›®æ ‡: å…¨å±€"),Q.showMessage(`æ‰§è¡Œ: ${e.shortcutKey}`,1500,"info");return}}Q.showMessage(`æ— æ³•æ‰§è¡Œå‘½ä»¤: ${S}`,3e3,"error")}else{console.log("æœªåœ¨ keymap ä¸­æ‰¾åˆ°ï¼Œç›´æŽ¥è§¦å‘å¿«æ·é”®:",T);const M=Wo(T);if(M)try{const W=new KeyboardEvent("keydown",M);window.dispatchEvent(W),console.log("å·²è§¦å‘é”®ç›˜äº‹ä»¶:",T),Q.showMessage(`æ‰§è¡Œ: ${e.shortcutKey}`,1500,"info")}catch(W){console.warn("æ€æºå¤„ç†æ­¤å¿«æ·é”®æ—¶å‡ºé”™:",W),Q.showMessage(`å¿«æ·é”®å¯èƒ½æ— æ•ˆ: ${e.shortcutKey}`,2e3,"warning")}else Q.showMessage(`æ— æ³•è§£æžå¿«æ·é”®: ${e.shortcutKey}`,3e3,"error")}}catch(T){console.error("æ‰§è¡Œå¿«æ·é”®å¤±è´¥:",T),Q.showMessage(`æ‰§è¡Œå¿«æ·é”®å¤±è´¥: ${e.shortcutKey} - ${T}`,3e3,"error")}}function cc(e){const{title:t="ç¡®è®¤",message:n,confirmText:i="ç¡®å®š",cancelText:o="å–æ¶ˆ"}=e;return new Promise(s=>{const r=document.createElement("div");r.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
    `;const l=document.createElement("div");l.style.cssText=`
      background: var(--b3-theme-background);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      max-width: 320px;
      width: 100%;
      overflow: hidden;
    `;const c=document.createElement("div");c.style.cssText=`
      padding: 20px;
    `;const d=document.createElement("div");d.textContent=t,d.style.cssText=`
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--b3-theme-on-background);
    `;const a=document.createElement("div");a.textContent=n,a.style.cssText=`
      font-size: 14px;
      color: var(--b3-theme-on-background);
      line-height: 1.5;
    `,c.appendChild(d),c.appendChild(a);const f=document.createElement("div");f.style.cssText=`
      display: flex;
      border-top: 1px solid var(--b3-border-color);
    `;const m=document.createElement("button");m.className="b3-button",m.textContent=o,m.style.cssText=`
      flex: 1;
      border: none;
      border-radius: 0;
      padding: 12px;
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
    `;const h=document.createElement("button");h.className="b3-button",h.textContent=i,h.style.cssText=`
      flex: 1;
      border: none;
      border-radius: 0;
      padding: 12px;
      border-left: 1px solid var(--b3-border-color);
      background: var(--b3-theme-primary);
      color: var(--b3-theme-on-primary);
    `,m.onclick=()=>{document.body.removeChild(r),s(!1)},h.onclick=()=>{document.body.removeChild(r),s(!0)},f.appendChild(m),f.appendChild(h),l.appendChild(c),l.appendChild(f),r.appendChild(l),r.onclick=b=>{b.target===r&&(document.body.removeChild(r),s(!1))},document.body.appendChild(r)})}const Jt=[{id:"emoji-smileys",name:"è¡¨æƒ…",icons:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ¥²","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤—","ðŸ¤­","ðŸ«¢","ðŸ«£","ðŸ¤«","ðŸ¤”","ðŸ«¡","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ«¥","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢","ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬"]},{id:"emoji-people",name:"äººç‰©æ‰‹åŠ¿",icons:["ðŸ‘","ðŸ‘Ž","ðŸ‘Œ","ðŸ¤Œ","ðŸ¤","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ‘‡","â˜ï¸","âœŠ","ðŸ¤›","ðŸ¤œ","ðŸ¤ž","âœŒï¸","ðŸ¤Ÿ","ðŸ¤˜","ðŸ‘‹","ðŸ–ï¸","ðŸ––","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","ðŸ’ª","ðŸ¦µ","ðŸ¦¶","ðŸ‘‚","ðŸ‘ƒ","ðŸ§ ","ðŸ«€","ðŸ¦·","ðŸ¦´","ðŸ‘€","ðŸ‘ï¸","ðŸ‘…","ðŸ‘„","ðŸ‘¶","ðŸ‘±","ðŸ‘¨","ðŸ§”","ðŸ‘©","ðŸ§“","ðŸ‘´","ðŸ‘µ","ðŸ™‡","ðŸ™","ðŸ™Ž","ðŸ™…","ðŸ™†","ðŸ’","ðŸ™‹","ðŸ§","ðŸ¦¯","ðŸ¦½","ðŸ¦¼","ðŸ¦¾","ðŸ’ƒ","ðŸ•º","ðŸ‘¯","ðŸ‘«","ðŸ‘­","ðŸ‘¬","ðŸ‘·","ðŸ‘¸","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘¼","ðŸ‘½","ðŸ‘¾","ðŸ‘¿","ðŸ’€","ðŸ¤ ","ðŸ¤¡","ðŸ¥·","ðŸ¤¢","ðŸ§‘"]},{id:"emoji-animals",name:"åŠ¨ç‰©",icons:["ðŸ¶","ðŸ±","ðŸ­","ðŸ¹","ðŸ°","ðŸ¦Š","ðŸ»","ðŸ¼","ðŸ¨","ðŸ¯","ðŸ¦","ðŸ®","ðŸ·","ðŸ¸","ðŸµ","ðŸ”","ðŸ§","ðŸ¦","ðŸ¤","ðŸ¦†","ðŸ¦…","ðŸ¦‰","ðŸ¦‡","ðŸº","ðŸ—","ðŸ´","ðŸ¦„","ðŸ","ðŸ›","ðŸ¦‹","ðŸŒ","ðŸž","ðŸœ","ðŸª²","ðŸª³","ðŸ¦Ÿ","ðŸ¦—","ðŸ•·ï¸","ðŸ¦‚","ðŸ¢","ðŸ","ðŸ¦Ž","ðŸ¦–","ðŸ¦•","ðŸ™","ðŸ¦‘","ðŸ¦","ðŸ¦ž","ðŸ¦€","ðŸ¡","ðŸ ","ðŸŸ","ðŸ¬","ðŸ³","ðŸ‹","ðŸ¦ˆ","ðŸŠ","ðŸ…","ðŸ†","ðŸ¦“","ðŸ¦","ðŸ¦§","ðŸ˜","ðŸ¦›","ðŸ¦","ðŸª","ðŸ«","ðŸ¦’","ðŸ¦˜","ðŸƒ","ðŸ‚","ðŸ„","ðŸŽ","ðŸ–","ðŸ","ðŸ‘","ðŸ¦™","ðŸ","ðŸ¦Œ","ðŸ•","ðŸ©","ðŸ¦®","ðŸ•â€ðŸ¦º","ðŸˆ","ðŸˆâ€â¬›","ðŸ“","ðŸ¦ƒ","ðŸ¦š","ðŸ¦œ","ðŸ¦¢","ðŸ¦©","ðŸ‡","ðŸ¦","ðŸ¦¨","ðŸ¦¡","ðŸ¦¦","ðŸ¦¥","ðŸ","ðŸ€","ðŸ¿ï¸","ðŸ¦”","ðŸ¾","ðŸ‰","ðŸ²","ðŸ¦Ž","ðŸ¦"]},{id:"emoji-plants",name:"æ¤ç‰©",icons:["ðŸŒ¸","ðŸŒº","ðŸŒ»","ðŸŒ¼","ðŸŒ·","ðŸŒ¹","ðŸ¥€","ðŸµï¸","ðŸ’","ðŸŒ¾","ðŸŒ¿","â˜˜ï¸","ðŸ€","ðŸ","ðŸ‚","ðŸƒ","ðŸŒ±","ðŸŒ²","ðŸŒ³","ðŸŒ´","ðŸŒµ","ðŸŽ‹","ðŸŽ","ðŸŽ„","ðŸŒ°","ðŸ„","ðŸ¥œ"]},{id:"emoji-food",name:"é£Ÿç‰©",icons:["ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ","ðŸ¥­","ðŸ","ðŸ‘","ðŸ’","ðŸ“","ðŸ«","ðŸ¥","ðŸ…","ðŸ«’","ðŸ¥¥","ðŸ¥‘","ðŸ†","ðŸ¥”","ðŸ¥•","ðŸŒ½","ðŸŒ¶ï¸","ðŸ«‘","ðŸ¥’","ðŸ¥¬","ðŸ¥¦","ðŸ§„","ðŸ§…","ðŸ„","ðŸ¥œ","ðŸŒ°","ðŸž","ðŸ¥","ðŸ¥–","ðŸ¥¨","ðŸ¥¯","ðŸ¥ž","ðŸ§‡","ðŸ§€","ðŸ–","ðŸ—","ðŸ¥©","ðŸ¥“","ðŸ”","ðŸŸ","ðŸ•","ðŸŒ­","ðŸ¥ª","ðŸŒ®","ðŸŒ¯","ðŸ«”","ðŸ¥™","ðŸ§†","ðŸ¥š","ðŸ³","ðŸ¥˜","ðŸ²","ðŸ«•","ðŸ¥£","ðŸ¥—","ðŸ¿","ðŸ§ˆ","ðŸ§‚","ðŸ¥«","ðŸ±","ðŸ˜","ðŸ™","ðŸš","ðŸ›","ðŸœ","ðŸ","ðŸ ","ðŸ¢","ðŸ£","ðŸ¤","ðŸ¥","ðŸ¥®","ðŸ¡","ðŸ¥Ÿ","ðŸ¥ ","ðŸ¥¡","ðŸ¦€","ðŸ¦ž","ðŸ¦","ðŸ¦‘","ðŸ¦ª","ðŸ¦","ðŸ§","ðŸ¨","ðŸ©","ðŸª","ðŸŽ‚","ðŸ°","ðŸ§","ðŸ¥§","ðŸ«","ðŸ¬","ðŸ­","ðŸ®","ðŸ¯","ðŸ¼","ðŸ¥›","â˜•","ðŸ«–","ðŸµ","ðŸ¶","ðŸ¾","ðŸ·","ðŸ¸","ðŸ¹","ðŸº","ðŸ»"]},{id:"emoji-sports",name:"è¿åŠ¨",icons:["âš½","ðŸ€","ðŸˆ","âš¾","ðŸ¥Ž","ðŸŽ¾","ðŸ","ðŸ‰","ðŸ¥","ðŸŽ±","ðŸª€","ðŸ“","ðŸ¸","ðŸ’","ðŸ‘","ðŸ¥","ðŸ","ðŸ¥…","â›³","ðŸª","ðŸ¹","ðŸŽ£","ðŸ¤¿","ðŸ¥Š","ðŸ¥‹","ðŸŽ½","ðŸ›¹","ðŸ›¼","ðŸ›·","â›¸ï¸","ðŸ¥Œ","ðŸŽ¿","â›·ï¸","ðŸ‚","ðŸª‚","ðŸ‹ï¸","ðŸ¤¼","ðŸ¤¸","ðŸ¤º","â›¹ï¸","ðŸ¤¾","ðŸŒï¸","ðŸ‡","ðŸ§˜","ðŸŠ","ðŸ„"]},{id:"emoji-objects",name:"ç‰©å“",icons:["ðŸ’¼","ðŸ“","ðŸ“‚","ðŸ—‚ï¸","ðŸ“…","ðŸ“†","ðŸ—’ï¸","ðŸ““","ðŸ“”","ðŸ“’","ðŸ“•","ðŸ“—","ðŸ“˜","ðŸ“™","ðŸ“š","ðŸ“–","ðŸ”–","ðŸ§·","ðŸ”—","ðŸ“Ž","ðŸ–‡ï¸","ðŸ“","ðŸ“","ðŸ“Œ","ðŸ“","âœ‚ï¸","ðŸ–Šï¸","ðŸ–‹ï¸","âœ’ï¸","ðŸ–Œï¸","ðŸ–ï¸","ðŸ“","âœï¸","ðŸ”","ðŸ”Ž","ðŸ”","ðŸ”","ðŸ”‘","ðŸ—ï¸","ðŸ’³","ðŸ’¸","ðŸ’µ","ðŸ’´","ðŸ’¶","ðŸ’·","ðŸ§¾","âœ‰ï¸","ðŸ“§","ðŸ“¨","ðŸ“©","ðŸ“¤","ðŸ“¥","ðŸ“¦","ðŸ·ï¸","ðŸ“ª","ðŸ“«","ðŸ“¬","ðŸ“­","ðŸ“®","ðŸ“¯","ðŸ“œ","ðŸ“ƒ","ðŸ“„","ðŸ“‘","ðŸ§¾","ðŸ“Š","ðŸ“ˆ","ðŸ“‰","ðŸ—’ï¸","ðŸ—“ï¸","ðŸ“…","ðŸ“†","ðŸ—“ï¸","ðŸ“‡","ðŸ—ƒï¸","ðŸ—³ï¸","ðŸ—„ï¸","ðŸ—‘ï¸","ðŸ”’","ðŸ”“","ðŸ”","ðŸ”","ðŸ”‘","ðŸ—ï¸","ðŸ”¨","ðŸª“","ðŸ—ï¸","ðŸ”§","ðŸª›","ðŸ”©","âš™ï¸","ðŸ—œï¸","âš–ï¸","ðŸ¦¯","ðŸ”—","â›“ï¸","ðŸª","ðŸ§°","ðŸ”«","ðŸ’£","ðŸ§¨","ðŸ”ª","ðŸ—¡ï¸","âš”ï¸","ðŸ›¡ï¸","ðŸš¬","âš°ï¸","ðŸª¦","âš±ï¸"]},{id:"emoji-places",name:"åœ°ç‚¹",icons:["ðŸ ","ðŸ¡","ðŸ˜ï¸","ðŸšï¸","ðŸ—ï¸","ðŸ­","ðŸ¢","ðŸ¬","ðŸ£","ðŸ¤","ðŸ¥","ðŸ¦","ðŸ¨","ðŸª","ðŸ«","ðŸ©","ðŸ’’","ðŸ›ï¸","â›ª","ðŸ•Œ","ðŸ•","ðŸ›•","ðŸ•‹","â›©ï¸","ðŸ—¾","ðŸŽ‘","â›²ï¸","ðŸ°","ðŸ¯","ðŸŸï¸","ðŸŽ¡","ðŸŽ¢","ðŸŽ "]},{id:"emoji-weather",name:"å¤©æ°”",icons:["ðŸŒ","ðŸŒŽ","ðŸŒ","ðŸŒ","ðŸŒ‘","ðŸŒ’","ðŸŒ“","ðŸŒ”","ðŸŒ•","ðŸŒ–","ðŸŒ—","ðŸŒ˜","ðŸŒ™","ðŸŒš","ðŸŒ›","ðŸŒœ","ðŸŒ¡ï¸","â˜€ï¸","ðŸŒ","ðŸŒž","â­","ðŸŒŸ","ðŸŒ ","â˜ï¸","â›…","â›ˆï¸","ðŸŒ¤ï¸","ðŸŒ§ï¸","ðŸŒ¨ï¸","â„ï¸","â˜ƒï¸","â›„","ðŸŒ¬ï¸","ðŸ’¨","ðŸ’§","ðŸ’¦","â˜”","â˜‚ï¸","ðŸŒŠ","ðŸŒ«ï¸","ðŸŒˆ","ðŸŒ‚","â›±ï¸","âš¡","â˜„ï¸","ðŸ”¥","ðŸŒ¥","ðŸŒ¦"]},{id:"emoji-transport",name:"äº¤é€š",icons:["ðŸš—","ðŸš•","ðŸš™","ðŸšŒ","ðŸšŽ","ðŸŽï¸","ðŸš“","ðŸš‘","ðŸš’","ðŸš","ðŸ›»","ðŸšš","ðŸš›","ðŸšœ","ðŸ¦¯","ðŸ¦½","ðŸ¦¼","ðŸ›´","ðŸš²","ðŸ›µ","ðŸï¸","ðŸ›º","ðŸš¨","ðŸš”","ðŸš","ðŸš˜","ðŸš–","ðŸš¡","ðŸš ","ðŸšŸ","ðŸšƒ","ðŸš‹","ðŸšž","ðŸš","ðŸš„","ðŸš…","ðŸšˆ","ðŸš‚","ðŸš†","ðŸš‡","ðŸšŠ","ðŸš‰","âœˆï¸","ðŸ›«","ðŸ›¬","ðŸ›©ï¸","ðŸ’º","ðŸ›°ï¸","ðŸš€","ðŸ›¸","ðŸš","ðŸ›¶","â›µ","ðŸš¤","ðŸ›¥ï¸","ðŸ›³ï¸","â›´ï¸","ðŸš¢","âš“","â›½","ðŸš§","ðŸš¦","ðŸš¥","ðŸš","ðŸ—ºï¸","ðŸ—¿","ðŸ—½","ðŸ—¼","ðŸ°","ðŸ¯","ðŸŸï¸","ðŸŽ¡","ðŸŽ¢","ðŸŽ ","ðŸš²","ðŸš"]},{id:"emoji-symbols",name:"ç¬¦å·",icons:["â­","ðŸŒŸ","âœ¨","ðŸ’«","âš¡","ðŸ”¥","ðŸ’¡","ðŸŒˆ","ðŸŽ¯","ðŸŽª","ðŸŽ­","ðŸŽ¨","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¹","ðŸŽ¸","ðŸª•","ðŸŽº","ðŸŽ»","ðŸª˜","ðŸ¥","ðŸ“±","ðŸ’»","ðŸ–¥ï¸","ðŸ–¨ï¸","âŒ¨ï¸","ðŸ–±ï¸","ðŸ–²ï¸","ðŸ’½","ðŸ’¾","ðŸ’¿","ðŸ“€","ðŸ“¼","ðŸ“·","ðŸ“¸","ðŸ“¹","ðŸŽ¥","ðŸ“ž","â˜Žï¸","ðŸ“Ÿ","ðŸ“ ","ðŸ“º","ðŸ“»","ðŸŽ™ï¸","ðŸŽšï¸","ðŸŽ›ï¸","ðŸ§­","â±ï¸","â²ï¸","â°","ðŸ•°","âŒ›","â³","ðŸ“¡","ðŸ”‹","ðŸ”Œ","ðŸ’¡","ðŸ”¦","ðŸ®","ðŸª”","ðŸŽ","ðŸŽ€","ðŸŽ—ï¸","ðŸŽŸï¸","ðŸŽ«","ðŸŽ–ï¸","ðŸ†","ðŸ…","ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰","ðŸŽ‰","ðŸŽŠ","ðŸŽˆ","ðŸ§¨","âœ…","âŒ","âž•","âž–","âž—","âž°","âž¿","ðŸ”±","â™»ï¸","âœ¡ï¸","âŽ","â­•","âœ´ï¸","ðŸ”˜","ðŸ”´","ðŸŸ ","ðŸŸ¡","ðŸŸ¢","ðŸ”µ","ðŸŸ£","âš«","âšª","ðŸŸ¤","ðŸ”º","ðŸ”»","ðŸ”¶","ðŸ”·","â™ ï¸","â™£ï¸","â™¥ï¸","â™¦ï¸","ðŸƒ","ðŸŽ´","ðŸ€„","ðŸŽ°","ðŸŽ²","ðŸ§©"]},{id:"emoji-hearts",name:"å¿ƒå½¢",icons:["â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤","ðŸ¤","ðŸ¤Ž","ðŸ’”","â£ï¸","ðŸ’•","ðŸ’ž","ðŸ’“","ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’"]},{id:"emoji-arrows",name:"ç®­å¤´",icons:["â¬†ï¸","â¬‡ï¸","â¬…ï¸","âž¡ï¸","â†—ï¸","â†˜ï¸","â†™ï¸","â†–ï¸","â†•ï¸","â†”ï¸","â†©ï¸","â†ªï¸","â¤´ï¸","â¤µï¸","ðŸ”ƒ","ðŸ”„","ðŸ”™","ðŸ”š","ðŸ”›","ðŸ”œ","ðŸ”","â©","âª","â«","â¬","â­","â®","â¯"]},{id:"emoji-numbers",name:"æ•°å­—",icons:["#ï¸âƒ£","*ï¸âƒ£","0ï¸âƒ£","1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£","5ï¸âƒ£","6ï¸âƒ£","7ï¸âƒ£","8ï¸âƒ£","9ï¸âƒ£","ðŸ”Ÿ"]}];function lo(e,t){if(e.innerHTML="",!t){e.textContent="?";return}t.startsWith("icon")?e.innerHTML=`<svg style="width: 16px; height: 16px;"><use xlink:href="#${t}"></use></svg>`:e.textContent=t}const ac=[{id:"toolbarMore",name:"å³ä¸Šè§’ï¼šè®¾ç½®",icon:"iconSettings"},{id:"toolbarFile",name:"å·¦ä¸Šè§’ï¼šæ–‡æ¡£æ ‘",icon:"iconFolder"},{id:"menuAccount",name:"ä¸ªäººä¿¡æ¯",icon:"iconAccount"},{id:"menuRecent",name:"æœ€è¿‘çš„æ–‡æ¡£",icon:"iconList"},{id:"menuSearch",name:"æœç´¢",icon:"iconSearch"},{id:"menuCommand",name:"å‘½ä»¤é¢æ¿",icon:"iconTerminal"},{id:"menuSyncNow",name:"ç«‹å³åŒæ­¥",icon:"iconCloudSucc"},{id:"menuNewDoc",name:"æ–°å»ºæ–‡æ¡£",icon:"iconFile"},{id:"menuNewNotebook",name:"æ–°å»ºç¬”è®°æœ¬",icon:"iconFilesRoot"},{id:"menuNewDaily",name:"æ—¥è®°",icon:"iconCalendar"},{id:"menuCard",name:"é—´éš”é‡å¤",icon:"iconRiffCard"},{id:"menuLock",name:"é”å±",icon:"iconLock"},{id:"menuHistory",name:"æ•°æ®åŽ†å²",icon:"iconHistory"},{id:"menuEditor",name:"ç¼–è¾‘å™¨",icon:"iconEdit"},{id:"menuFileTree",name:"æ–‡æ¡£æ ‘",icon:"iconFolder"},{id:"menuRiffCard",name:"é—ªå¡",icon:"iconSparkles"},{id:"menuAI",name:"AI",icon:"iconSparkles"},{id:"menuAssets",name:"èµ„æº",icon:"iconImage"},{id:"menuAppearance",name:"å¤–è§‚",icon:"iconTheme"},{id:"menuSync",name:"äº‘ç«¯",icon:"iconCloud"},{id:"menuPublish",name:"å‘å¸ƒ",icon:"iconUpload"},{id:"menuAbout",name:"å…³äºŽ",icon:"iconInfo"},{id:"menuPlugin",name:"æ’ä»¶",icon:"iconPlugin"}];function dc(e){const{currentValue:t="",onSelect:n}=e,i=document.createElement("div");i.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
  `;const o=document.createElement("div");o.style.cssText=`
    background: var(--b3-theme-background);
    border-radius: 8px;
    max-width: 400px;
    width: 100%;
    max-height: 70vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  `;const s=document.createElement("div");s.style.cssText=`
    padding: 16px 20px;
    border-bottom: 1px solid var(--b3-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
  `,s.innerHTML='<div style="font-size: 16px; font-weight: 500;">é€‰æ‹©æŒ‰é’®</div>';const r=document.createElement("button");r.className="b3-button b3-button--text",r.textContent="âœ•",r.style.cssText="padding: 4px 8px; font-size: 18px;",r.onclick=()=>document.body.removeChild(i),s.appendChild(r);const l=document.createElement("div");l.style.cssText="padding: 12px 20px; border-bottom: 1px solid var(--b3-border-color);";const c=document.createElement("input");c.type="text",c.placeholder="æœç´¢æŒ‰é’®...",c.className="b3-text-field",c.style.cssText="width: 100%; padding: 8px 12px;",l.appendChild(c);const d=document.createElement("div");d.style.cssText=`
    padding: 16px;
    overflow-y: auto;
    flex: 1;
  `;const a=document.createElement("div");a.style.cssText="display: flex; flex-direction: column; gap: 8px;";const f=(m="")=>{a.innerHTML="";const h=ac.filter(b=>b.name.toLowerCase().includes(m.toLowerCase())||b.id.toLowerCase().includes(m.toLowerCase()));if(h.length===0){const b=document.createElement("div");b.style.cssText=`
        text-align: center;
        padding: 20px;
        color: var(--b3-theme-on-surface-light);
        font-size: 13px;
      `,b.textContent="æœªæ‰¾åˆ°åŒ¹é…çš„æŒ‰é’®",a.appendChild(b);return}h.forEach(b=>{const E=document.createElement("div"),L=b.id===t;E.style.cssText=`
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        border-radius: 6px;
        cursor: pointer;
        background: ${L?"var(--b3-theme-primary-lightest)":"var(--b3-theme-surface)"};
        border: 1px solid ${L?"var(--b3-theme-primary)":"var(--b3-border-color)"};
        transition: all 0.2s;
      `;const D=document.createElement("span");D.style.cssText=`
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      `,lo(D,b.icon);const R=document.createElement("span");R.style.cssText=`
        font-size: 14px;
        color: var(--b3-theme-on-surface);
        flex: 1;
      `,R.textContent=b.name;const O=document.createElement("code");O.style.cssText=`
        font-size: 11px;
        background: var(--b3-theme-background);
        padding: 3px 8px;
        border-radius: 3px;
        color: var(--b3-theme-primary);
        flex-shrink: 0;
      `,O.textContent=b.id,E.appendChild(D),E.appendChild(R),E.appendChild(O),E.onclick=()=>{n(b),document.body.removeChild(i)},E.ontouchstart=()=>{E.style.background="var(--b3-theme-primary)"},E.ontouchend=()=>{E.style.background=L?"var(--b3-theme-primary-lightest)":"var(--b3-theme-surface)"},a.appendChild(E)})};f(),c.oninput=()=>{f(c.value)},d.appendChild(a),o.appendChild(s),o.appendChild(l),o.appendChild(d),i.appendChild(o),document.body.appendChild(i),i.onclick=m=>{m.target===i&&document.body.removeChild(i)},setTimeout(()=>c.focus(),100)}function uc(e){const{title:t="é€‰æ‹©å›¾æ ‡",onSelect:n}=e,i=document.createElement("div");i.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
  `;const o=document.createElement("div");o.style.cssText=`
    background: var(--b3-theme-background);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    max-width: 500px;
    width: 100%;
    max-height: 80vh;
    display: flex;
    flex-direction: column;
  `;const s=document.createElement("div");s.style.cssText=`
    padding: 16px 20px;
    border-bottom: 1px solid var(--b3-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
  `,s.innerHTML=`<span style="font-size: 16px; font-weight: 600;">${t}</span>`;const r=document.createElement("button");r.className="b3-button b3-button--icon",r.innerHTML='<svg style="width: 16px; height: 16px;"><use xlink:href="#iconClose"></use></svg>',r.onclick=()=>document.body.removeChild(i),s.appendChild(r);const l=document.createElement("div");l.style.padding="12px 20px",l.style.borderBottom="1px solid var(--b3-border-color)";const c=document.createElement("input");c.className="b3-text-field",c.type="text",c.placeholder="æœç´¢å›¾æ ‡...",c.style.cssText=`
    width: 100%;
    box-sizing: border-box;
  `,l.appendChild(c);const d=document.createElement("div");d.style.cssText=`
    flex: 1;
    overflow-y: auto;
    padding: 16px 20px;
  `;const a=document.createElement("div");a.style.cssText=`
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
    flex-wrap: wrap;
  `;let f=Jt[0].id;const m=(h,b="")=>{const E=d.querySelector(".icon-grid");E&&E.remove();const L=document.createElement("div");L.className="icon-grid",L.style.cssText=`
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
      gap: 8px;
    `;let D=[];const R=Jt.find(O=>O.id===h);R&&(D=R.icons.filter(O=>!b||O.includes(b))),D.forEach(O=>{const x=document.createElement("button");x.className="b3-button",x.style.cssText=`
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--b3-border-color);
        border-radius: 6px;
        cursor: pointer;
        font-size: 24px;
        background: var(--b3-theme-background);
      `,lo(x,O),x.onclick=()=>{n(O),document.body.removeChild(i)},x.onmouseenter=()=>{x.style.background="var(--b3-theme-surface)",x.style.borderColor="var(--b3-theme-primary)"},x.onmouseleave=()=>{x.style.background="var(--b3-theme-background)",x.style.borderColor="var(--b3-border-color)"},L.appendChild(x)}),d.appendChild(L)};Jt.forEach(h=>{const b=document.createElement("button");b.className="b3-button",b.textContent=h.name,b.dataset.categoryId=h.id,b.style.cssText=`
      padding: 6px 16px;
      border-radius: 16px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      cursor: pointer;
    `,(()=>{f===h.id?(b.style.background="var(--b3-theme-primary)",b.style.color="var(--b3-theme-on-primary)",b.style.borderColor="var(--b3-theme-primary)"):(b.style.background="var(--b3-theme-background)",b.style.color="var(--b3-theme-on-background)",b.style.borderColor="var(--b3-border-color)")})(),b.onclick=()=>{f=h.id,a.querySelectorAll("button").forEach(L=>{L.dataset.categoryId===h.id?(L.style.background="var(--b3-theme-primary)",L.style.color="var(--b3-theme-on-primary)",L.style.borderColor="var(--b3-theme-primary)"):(L.style.background="var(--b3-theme-background)",L.style.color="var(--b3-theme-on-background)",L.style.borderColor="var(--b3-border-color)")}),m(h.id,c.value)},a.appendChild(b)}),c.oninput=()=>{m(f,c.value)},d.appendChild(a),m(Jt[0].id),o.appendChild(s),o.appendChild(l),o.appendChild(d),i.appendChild(o),i.onclick=h=>{h.target===i&&document.body.removeChild(i)},document.body.appendChild(i)}const fc=[{id:"plugin-settings-desktop",name:"â‘ æ‰“å¼€æ’ä»¶è®¾ç½®",description:"ç”µè„‘ç«¯ï¼šæ’ä»¶ â†’ å·¥å…·æ å®šåˆ¶å™¨",sequence:["barPlugins","text:å·¥å…·æ å®šåˆ¶å™¨"]},{id:"open-browser-desktop",name:"â‘¡æ‰“å¼€ä¼ºæœæµè§ˆå™¨",description:"ç”µè„‘ç«¯ï¼šå·¥ä½œåŒº â†’ é…ç½® â†’ å…³äºŽ â†’ æ‰“å¼€æµè§ˆå™¨",sequence:["barWorkspace","config","â†’","text:å…³äºŽ","text:æ‰“å¼€æµè§ˆå™¨"]},{id:"plugin-settings-mobile",name:"â‘ æ‰“å¼€æ’ä»¶è®¾ç½®",description:"æ‰‹æœºç«¯ï¼šæ›´å¤š â†’ æ’ä»¶ â†’ å·¥å…·æ å®šåˆ¶å™¨",sequence:["toolbarMore","menuPlugin","text:å·¥å…·æ å®šåˆ¶å™¨"]},{id:"open-browser-mobile",name:"â‘¡æ‰“å¼€ä¼ºæœæµè§ˆå™¨",description:"æ‰‹æœºç«¯ï¼šæ›´å¤š â†’ å…³äºŽ",sequence:["toolbarMore","menuAbout"]}];function Ko(e){const{platform:t,onSelect:n}=e,i=t==="desktop"?"desktop":"mobile",o=fc.filter(m=>m.id.endsWith(i)),s=document.createElement("div");s.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
  `;const r=document.createElement("div");r.style.cssText=`
    background: var(--b3-theme-background);
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    width: 100%;
    max-height: 70vh;
    display: flex;
    flex-direction: column;
  `;const l=document.createElement("div");l.style.cssText=`
    padding: 16px 20px;
    border-bottom: 1px solid var(--b3-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
  `,l.innerHTML='<span style="font-size: 16px; font-weight: 600;">é€‰æ‹©ç‚¹å‡»åºåˆ—</span>';const c=document.createElement("button");c.className="b3-button b3-button--text",c.textContent="âœ•",c.style.cssText="padding: 4px 8px; font-size: 18px;",c.onclick=()=>document.body.removeChild(s),l.appendChild(c);const d=document.createElement("div");d.style.cssText=`
    padding: 16px 20px;
    overflow-y: auto;
    flex: 1;
  `;const a=document.createElement("div");a.style.cssText="display: flex; flex-direction: column; gap: 8px;",o.forEach(m=>{const h=document.createElement("div");h.style.cssText=`
      display: flex;
      flex-direction: column;
      gap: 6px;
      padding: 12px;
      border-radius: 6px;
      cursor: pointer;
      background: var(--b3-theme-surface);
      border: 1px solid var(--b3-border-color);
      transition: all 0.2s;
    `;const b=document.createElement("div");b.style.cssText="display: flex; align-items: center; gap: 8px;";const E=document.createElement("span");E.style.cssText=`
      font-size: 14px;
      font-weight: 500;
      color: var(--b3-theme-on-background);
    `,E.textContent=m.name;const L=document.createElement("span");L.style.cssText=`
      font-size: 11px;
      color: var(--b3-theme-on-surface-light);
    `,L.textContent=m.description,b.appendChild(E),b.appendChild(L);const D=document.createElement("code");D.style.cssText=`
      font-size: 11px;
      color: var(--b3-theme-primary);
      background: var(--b3-theme-primary-lightest);
      padding: 6px 8px;
      border-radius: 4px;
      font-family: monospace;
      white-space: pre-wrap;
    `,D.textContent=m.sequence.join(" â†’ "),h.appendChild(b),h.appendChild(D),h.onclick=()=>{n(m.sequence),document.body.removeChild(s)},h.onmouseenter=()=>{h.style.background="var(--b3-theme-primary-lightest)",h.style.borderColor="var(--b3-theme-primary)"},h.onmouseleave=()=>{h.style.background="var(--b3-theme-surface)",h.style.borderColor="var(--b3-border-color)"},a.appendChild(h)});const f=document.createElement("div");f.style.cssText=`
    margin-top: 12px;
    padding: 8px;
    background: var(--b3-theme-surface);
    border-radius: 4px;
    font-size: 11px;
    color: var(--b3-theme-on-surface-light);
  `,f.textContent="ðŸ’¡ ç‚¹å‡»ä¸Šæ–¹é€‰é¡¹å°†åºåˆ—å¡«å…¥è¾“å…¥æ¡†",d.appendChild(a),d.appendChild(f),r.appendChild(l),r.appendChild(d),s.appendChild(r),s.onclick=m=>{m.target===s&&document.body.removeChild(s)},document.body.appendChild(s)}let Ui={version:""};try{Ui=cs}catch{}const{version:pc}=Ui;class mc extends Q.Plugin{constructor(){super(...arguments);Se(this,"isMobile");Se(this,"isBrowser");Se(this,"isLocal");Se(this,"isElectron");Se(this,"isInWindow");Se(this,"platform");Se(this,"version",pc);Se(this,"mobileConfig",Oo);Se(this,"desktopButtonConfigs",[]);Se(this,"mobileButtonConfigs",[]);Se(this,"currentEditingButton",null);Se(this,"featureConfig",{hideBreadcrumbIcon:!1,hideReadonlyButton:!1,hideDocMenuButton:!1,hideMoreButton:!1,toolbarButtonWidth:32,disableMobileSwipe:!1,disableFileTree:!0,disableSettingMenu:!0})}get buttonConfigs(){return this.isMobile?this.mobileButtonConfigs:this.desktopButtonConfigs}set buttonConfigs(n){this.isMobile?this.mobileButtonConfigs=n:this.desktopButtonConfigs=n}async onload(){var i;const n=Q.getFrontend();this.platform=n,this.isMobile=n==="mobile"||n==="browser-mobile",this.isBrowser=n.includes("browser"),this.isLocal=location.href.includes("127.0.0.1")||location.href.includes("localhost"),this.isInWindow=location.href.includes("window.html");try{(i=require("@electron/remote"))==null||i.require("@electron/remote/main"),this.isElectron=!0}catch{this.isElectron=!1}try{const o=await this.loadData("mobileToolbarConfig");o&&(this.mobileConfig={...Oo,...o});const s=await this.loadData("desktopButtonConfigs");Array.isArray(s)?this.desktopButtonConfigs=s.map(d=>({...d,minWidth:d.minWidth!==void 0?d.minWidth:32,showNotification:d.showNotification!==void 0?d.showNotification:!0,clickSequence:d.clickSequence||[]})):this.desktopButtonConfigs=ql.map(d=>({...d}));const r=await this.loadData("mobileButtonConfigs");Array.isArray(r)?this.mobileButtonConfigs=r.map(d=>({...d,minWidth:d.minWidth!==void 0?d.minWidth:32,showNotification:d.showNotification!==void 0?d.showNotification:!0,clickSequence:d.clickSequence||[]})):this.mobileButtonConfigs=jl.map(d=>({...d}));const l=await this.loadData("featureConfig");l&&(this.featureConfig={...this.featureConfig,...l}),await this.loadData("hasShownWelcome")||setTimeout(()=>{this.isMobile?Q.showMessage(`æ¬¢è¿Žä½¿ç”¨æœ¬æ’ä»¶ðŸŽ‰ðŸŽ‰

å·²ç»é»˜è®¤æ·»åŠ æŒ‰é’®ï¼š
â‘ æ‰“å¼€æ’ä»¶è®¾ç½®
â‘¡æ‰“å¼€æ—¥è®°
â‘¢æ’å…¥æ—¶é—´
â‘£å…¨å±€æœç´¢`,0,"info"):Q.showMessage(`æ¬¢è¿Žä½¿ç”¨æœ¬æ’ä»¶ðŸŽ‰ðŸŽ‰

å·²ç»é»˜è®¤æ·»åŠ æŒ‰é’®ï¼š
â‘ æ‰“å¼€æ’ä»¶è®¾ç½®
â‘¡æ‰“å¼€æ—¥è®°
â‘¢æ’å…¥æ—¶é—´`,0,"info"),this.saveData("hasShownWelcome",!0)},2e3)}catch(o){console.warn("åŠ è½½é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®:",o)}Ol(this),this.applyFeatures()}onLayoutReady(){this.initPluginFunctions(),this.isMobile&&setTimeout(()=>{this.applyMobileToolbarStyle()},500)}initPluginFunctions(){jo(),Ul(this.mobileConfig);const n=this.isMobile?this.mobileButtonConfigs:this.desktopButtonConfigs;Vl(n)}onunload(){jo(),Hl(),this.removeFeatureStyles()}async uninstall(){await this.removeData("mobileToolbarConfig"),await this.removeData("desktopButtonConfigs"),await this.removeData("mobileButtonConfigs"),await this.removeData("featureConfig")}openSetting(){const n=new Q.Setting({width:this.isMobile?"100%":"800px",height:this.isMobile?"100%":"70vh",confirmCallback:async()=>{await this.saveData("mobileToolbarConfig",this.mobileConfig),await this.saveData("desktopButtonConfigs",this.desktopButtonConfigs),await this.saveData("mobileButtonConfigs",this.mobileButtonConfigs),await this.saveData("featureConfig",this.featureConfig),Q.showMessage("è®¾ç½®å·²ä¿å­˜ï¼Œæ­£åœ¨é‡è½½...",2e3,"info"),await Q.fetchSyncPost("/api/system/reloadUI",{})}});this.isMobile&&setTimeout(()=>{const i=document.querySelector(".b3-dialog:not([data-plugin-dialog])");i&&i.setAttribute("data-plugin-dialog","toolbar-customizer")},50),this.isMobile?this.createMobileSettingLayout(n):this.createDesktopSettingLayout(n),n.open("å·¥å…·æ å®šåˆ¶å™¨"),this.isMobile||this.injectTabSwitcher()}createDesktopSettingLayout(n){n.addItem({title:"ðŸ–¥ï¸ ç”µè„‘ç«¯è‡ªå®šä¹‰æŒ‰é’®",description:"ç®¡ç†ç”µè„‘ç«¯å·¥å…·æ è‡ªå®šä¹‰æŒ‰é’®ï¼ˆå¯æ‹–åŠ¨æŽ’åºï¼‰",createActionElement:()=>{const i=document.createElement("div");i.className="toolbar-customizer-content",i.dataset.tabGroup="desktop",i.style.cssText="display: flex; flex-direction: column; gap: 8px; width: 100%;";const o=document.createElement("div");o.style.cssText="display: flex; flex-direction: column; gap: 10px;";let s=null;const r=()=>{o.innerHTML="",[...this.desktopButtonConfigs].sort((d,a)=>d.sort-a.sort).forEach((d,a)=>{const f=this.createDesktopButtonItem(d,a,r,this.desktopButtonConfigs);o.appendChild(f),s&&d.id===s&&setTimeout(()=>{const m=f.querySelector('[style*="cursor: pointer"]');m&&(m.click(),f.scrollIntoView({behavior:"smooth",block:"nearest"})),s=null},100)})},l=document.createElement("button");return l.className="b3-button b3-button--outline",l.style.cssText="width: 100%; margin-bottom: 12px; padding: 10px; border-radius: 6px; font-size: 14px;",l.textContent="+ æ·»åŠ æ–°æŒ‰é’®",l.onclick=()=>{const c={id:`button_${Date.now()}`,name:"æ–°æŒ‰é’®",type:"builtin",builtinId:"menuSearch",icon:"iconHeart",iconSize:18,minWidth:32,marginRight:8,sort:this.desktopButtonConfigs.length+1,platform:"both",showNotification:!0,enabled:!0};this.desktopButtonConfigs.push(c),s=c.id,r()},r(),i.appendChild(l),i.appendChild(o),i}}),n.addItem({title:"âš™ï¸ å°åŠŸèƒ½é€‰æ‹©",description:"ç•Œé¢å¾®è°ƒä¸Žä½“éªŒä¼˜åŒ–",createActionElement:()=>{const i=document.createElement("div");i.className="toolbar-customizer-content",i.dataset.tabGroup="desktop",i.style.cssText="display: flex; flex-direction: column; gap: 12px;";const o=(a,f,m)=>{const h=document.createElement("div");h.style.cssText="display: flex; align-items: center; gap: 12px;";const b=document.createElement("label");b.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",b.textContent=a;const E=document.createElement("input");return E.type="checkbox",E.className="b3-switch",E.checked=f,E.onchange=async()=>{m(E.checked),await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},h.appendChild(b),h.appendChild(E),h},s=document.createElement("div");s.style.cssText="display: flex; flex-direction: column; gap: 4px;";const r=document.createElement("div");r.style.cssText="display: flex; align-items: center; gap: 12px;";const l=document.createElement("label");l.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",l.textContent="å·¥å…·æ æŒ‰é’®å®½åº¦";const c=document.createElement("input");c.type="number",c.value=this.featureConfig.toolbarButtonWidth.toString(),c.className="b3-text-field",c.style.cssText="width: 80px;",c.onchange=async()=>{this.featureConfig.toolbarButtonWidth=parseInt(c.value)||32,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},r.appendChild(l),r.appendChild(c);const d=document.createElement("div");return d.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding-left: 4px;",d.textContent="ðŸ’¡ å¯æ•´ä½“è°ƒæ•´æŒ‰é’®é—´çš„å®½åº¦",s.appendChild(r),s.appendChild(d),i.appendChild(s),i.appendChild(o("é¢åŒ…å±‘å›¾æ ‡éšè—",this.featureConfig.hideBreadcrumbIcon,a=>{this.featureConfig.hideBreadcrumbIcon=a})),i.appendChild(o("é”å®šç¼–è¾‘æŒ‰é’®éšè—",this.featureConfig.hideReadonlyButton,a=>{this.featureConfig.hideReadonlyButton=a})),i.appendChild(o("æ–‡æ¡£èœå•æŒ‰é’®éšè—",this.featureConfig.hideDocMenuButton,a=>{this.featureConfig.hideDocMenuButton=a})),i.appendChild(o("æ›´å¤šæŒ‰é’®éšè—",this.featureConfig.hideMoreButton,a=>{this.featureConfig.hideMoreButton=a})),i}}),n.addItem({title:"ðŸ“± æ‰‹æœºç«¯è‡ªå®šä¹‰æŒ‰é’®",description:`å·²é…ç½® ${this.mobileButtonConfigs.length} ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å±•å¼€ç¼–è¾‘`,createActionElement:()=>{const i=document.createElement("div");i.className="toolbar-customizer-content",i.dataset.tabGroup="mobile",i.style.cssText="display: flex; flex-direction: column; gap: 8px; width: 100%;";const o=document.createElement("div");o.style.cssText="display: flex; flex-direction: column; gap: 10px;";let s=null;const r=()=>{o.innerHTML="",[...this.mobileButtonConfigs].sort((d,a)=>d.sort-a.sort).forEach((d,a)=>{const f=this.createMobileButtonItem(d,a,r,this.mobileButtonConfigs);o.appendChild(f),s&&d.id===s&&setTimeout(()=>{const m=f.querySelector('[style*="cursor: pointer"]');m&&(m.click(),f.scrollIntoView({behavior:"smooth",block:"center"})),s=null},100)})},l=document.createElement("button");return l.className="b3-button b3-button--outline",l.style.cssText="width: 100%; margin-bottom: 12px; padding: 10px; border-radius: 6px; font-size: 14px;",l.textContent="+ æ·»åŠ æ–°æŒ‰é’®",l.onclick=()=>{const c={id:`button_${Date.now()}`,name:"æ–°æŒ‰é’®",type:"builtin",builtinId:"menuSearch",icon:"iconHeart",iconSize:18,minWidth:32,marginRight:8,sort:this.mobileButtonConfigs.length+1,platform:"both",showNotification:!0,enabled:!0};this.mobileButtonConfigs.push(c),s=c.id,r()},r(),i.appendChild(l),i.appendChild(o),i}}),n.addItem({title:"ðŸ“± åº•éƒ¨å·¥å…·æ é…ç½®",description:"ðŸ’¡ å¼€å¯åŽæ‰èƒ½è°ƒæ•´è¾“å…¥æ³•ä½ç½®ç›¸å…³è®¾ç½®",createActionElement:()=>{const i=document.createElement("div");i.className="toolbar-customizer-content",i.dataset.tabGroup="mobile",i.style.cssText="display: flex; flex-direction: column; gap: 12px;";const o=document.createElement("div");o.style.cssText=`
         width:100%;
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 10px 14px;
          background: var(--b3-theme-surface);
          border-radius: 8px;
          border: 1px solid var(--b3-border-color);
        `;const s=document.createElement("span");s.textContent="æ˜¯å¦å°†å·¥å…·æ ç½®åº•",s.style.cssText="font-size: 14px; color: var(--b3-theme-on-surface); font-weight: 500;";const r=document.createElement("input");return r.type="checkbox",r.className="b3-switch",r.checked=this.mobileConfig.enableBottomToolbar,r.onchange=async()=>{this.mobileConfig.enableBottomToolbar=r.checked,await this.saveData("mobileConfig",this.mobileConfig)},o.appendChild(s),o.appendChild(r),i.appendChild(o),i}})}injectTabSwitcher(){setTimeout(()=>{const n=document.querySelector(".b3-dialog__content");if(!n)return;const i=document.createElement("style");i.textContent=`
        .b3-dialog__content .config__item > .fn__flex-1 {
          display: none !important;
        }
        .b3-dialog__content .config__item > .fn__space {
          display: none !important;
        }
        .b3-dialog__content .config__item > .fn__flex-column {
          width: 100% !important;
          max-width: none !important;
        }
      `,document.head.appendChild(i);const o=document.createElement("div");o.className="fn__flex",o.style.cssText=`
        padding: 8px 16px 16px 16px;
        gap: 8px;
      `;const s=document.createElement("button");s.className="b3-button",s.dataset.tab="desktop",s.textContent="ðŸ–¥ï¸ ç”µè„‘é…ç½®",s.style.cssText=`
        flex: 1;
        padding: 8px 16px;
        font-size: 13px;
        border-radius: 4px;
      `;const r=document.createElement("button");r.className="b3-button",r.dataset.tab="mobile",r.textContent="ðŸ“± æ‰‹æœºé…ç½®",r.style.cssText=`
        flex: 1;
        padding: 8px 16px;
        font-size: 13px;
        border-radius: 4px;
      `;const l={width:"100%",fontSize:"17px",textColor:"#000000ff",bgColor:"#a3bcf1ff",hoverBgColor:"#2563eb",borderColor:"#2563eb"},c=document.createElement("a");c.href="http://127.0.0.1:6806/stage/build/mobile/",c.target="_blank",c.className="b3-button b3-button--outline",c.innerHTML="ðŸ” ä¼ºæœæµè§ˆå™¨ï¼šé¢„è§ˆæ‰‹æœºç«¯",c.style.cssText=`
      width: ${l.width};
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 6px;
      font-size: ${l.fontSize};
      text-align: center;
      text-decoration: none;
      display: none;
      color: ${l.textColor};
      background: ${l.bgColor};
      border: 1px solid ${l.borderColor};
      `,c.onmouseenter=()=>{c.style.background=l.hoverBgColor},c.onmouseleave=()=>{c.style.background=l.bgColor};const d=document.createElement("div");d.style.cssText=`
        font-size: 15px;
        color: var(--b3-theme-on-surface-light);
        text-align: center;
        margin-top: 4px;
        display: none;
      `,d.textContent="ðŸ’¡ç‚¹å‡»æ‰“å¼€æµè§ˆå™¨ï¼Œå¯é¢„è§ˆæ‰‹æœºç«¯æ•ˆæžœï¼Œæœ¬å¤„ä»…æ”¯æŒæ’å…¥æŒ‰é’®ã€‚æ›´å¤šé…ç½®ï¼Œè¯·åŒæ­¥è‡³æ‰‹æœºç«¯è®¾ç½®ï¼";const a=m=>{m==="desktop"?(s.classList.add("b3-button--primary"),s.classList.remove("b3-button--outline"),r.classList.remove("b3-button--primary"),r.classList.add("b3-button--outline"),c.style.display="none",d.style.display="none"):(r.classList.add("b3-button--primary"),r.classList.remove("b3-button--outline"),s.classList.remove("b3-button--primary"),s.classList.add("b3-button--outline"),c.style.display="block",d.style.display="block"),n.querySelectorAll(".config__item").forEach(b=>{const E=b.querySelector(".toolbar-customizer-content");if(E){const L=E.dataset.tabGroup;L===m?b.style.display="":L&&(b.style.display="none")}})};s.onclick=()=>a("desktop"),r.onclick=()=>a("mobile"),o.appendChild(s),o.appendChild(r);const f=document.createElement("div");f.className="toolbar-customizer-preview-container",f.dataset.tabGroup="mobile",f.style.cssText="margin-bottom: 12px;",f.appendChild(c),f.appendChild(d),n.insertBefore(o,n.firstChild),n.insertBefore(f,o.nextSibling),a("desktop")},100)}createMobileSettingLayout(n){const i=(o,s)=>{n.addItem({title:"",description:"",createActionElement:()=>{const r=document.createElement("div");return r.style.cssText=`
            padding: 16px 16px 8px 16px;
            margin: 8px -16px 0 -16px;
            font-size: 15px;
            font-weight: 600;
            color: var(--b3-theme-on-background);
            border-bottom: 1px solid var(--b3-border-color);
            background: var(--b3-theme-surface);
            display: flex;
            align-items: center;
            gap: 8px;
          `,r.innerHTML=`<span style="font-size: 18px;">${o}</span>${s}`,r}})};i("ðŸ“±","æ‰‹æœºç«¯è‡ªå®šä¹‰æŒ‰é’®"),n.addItem({title:"æŒ‰é’®åˆ—è¡¨ï¼ˆå¯é•¿æŒ‰æ‹–åŠ¨æŽ’åºï¼‰",description:`å·²é…ç½® ${this.isMobile?this.mobileButtonConfigs.length:this.desktopButtonConfigs.length} ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å±•å¼€ç¼–è¾‘`,createActionElement:()=>{const o=document.createElement("div");o.style.cssText="width: 100%; padding: 8px 0;";const s=document.createElement("button");s.className="b3-button b3-button--outline",s.style.cssText=`
          width: 100%;
          margin-bottom: 12px;
          padding: 10px;
          font-size: 14px;
          border-radius: 6px;
        `,s.textContent="+ æ·»åŠ æ–°æŒ‰é’®";const r=document.createElement("div");r.style.cssText="display: flex; flex-direction: column; gap: 10px;";let l=null;const c=()=>{r.innerHTML="",[...this.buttonConfigs].sort((a,f)=>a.sort-f.sort).forEach((a,f)=>{const m=this.createMobileButtonItem(a,f,c,this.buttonConfigs);r.appendChild(m),l&&a.id===l&&setTimeout(()=>{const h=m.querySelector('[style*="cursor: pointer"]');h&&(h.click(),m.scrollIntoView({behavior:"smooth",block:"center"})),l=null},100)})};return s.onclick=()=>{const d={id:`button_${Date.now()}`,name:"æ–°æŒ‰é’®",type:"builtin",builtinId:"menuSearch",icon:"iconHeart",iconSize:18,minWidth:32,marginRight:8,sort:this.buttonConfigs.length+1,platform:"both",showNotification:!0};this.buttonConfigs.push(d),l=d.id,c()},c(),o.appendChild(s),o.appendChild(r),o}}),i("ðŸ“±","åº•éƒ¨å·¥å…·æ é…ç½®"),n.addItem({title:"æ˜¯å¦å°†å·¥å…·æ ç½®åº•",description:"ðŸ’¡å¼€å¯åŽæ‰èƒ½è°ƒæ•´è¾“å…¥æ³•ä½ç½®ç›¸å…³è®¾ç½®",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.mobileConfig.enableBottomToolbar,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.mobileConfig.enableBottomToolbar=o.checked,await this.saveData("mobileConfig",this.mobileConfig)},o}}),n.addItem({title:"ðŸ“æ å†…æŒ‰é’®å‡åŒ€åˆ†å¸ƒ",description:"ðŸ’¡å¯æ•´ä½“è°ƒæ•´æŒ‰é’®é—´çš„å®½åº¦ã€‚<br>   è°ƒæ•´å»ºè®®ï¼šæ¯æ¬¡å¢žåŠ 50ï¼Œä¼šæ˜Žæ˜¾å˜åŒ–ï¼Œæ„Ÿè§‰åˆé€‚åŽï¼Œå†å¾®è°ƒï¼",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.type="number",o.value=this.featureConfig.toolbarButtonWidth.toString(),o.style.cssText="font-size: 14px; padding: 8px;",o.onchange=async()=>{this.featureConfig.toolbarButtonWidth=parseInt(o.value)||32,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),n.addItem({title:"â‘ è·ç¦»åº•éƒ¨é«˜åº¦",description:"ðŸ’¡è®¾ç½®å·¥å…·æ é«˜åº¦ï¼ˆä»…åœ¨å·¥å…·æ ç½®åº•æ—¶æœ‰æ•ˆï¼‰",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.type="text",o.value=this.mobileConfig.toolbarHeight,o.style.cssText="font-size: 14px; padding: 8px;",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.toolbarHeight=o.value,this.applyMobileToolbarStyle()},o}}),n.addItem({title:"â‘¡å·¥å…·æ è‡ªèº«é«˜åº¦",description:"ðŸ’¡è®¾ç½®å·¥å…·æ é«˜åº¦ï¼ˆä»…åœ¨å·¥å…·æ ç½®åº•æ—¶æœ‰æ•ˆï¼‰",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.type="text",o.value=this.mobileConfig.toolbarHeight,o.style.cssText="font-size: 14px; padding: 8px;",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.toolbarHeight=o.value,this.applyMobileToolbarStyle()},o}}),n.addItem({title:"â‘¢å·¥å…·æ èƒŒæ™¯é¢œè‰²",description:"ðŸ’¡ç‚¹å‡»é€‰æ‹©å·¥å…·æ èƒŒæ™¯é¢œè‰²ï¼ˆä»…åœ¨å·¥å…·æ ç½®åº•æ—¶æœ‰æ•ˆï¼‰",createActionElement:()=>{const o=document.createElement("input");return o.type="color",o.value=this.mobileConfig.toolbarBackgroundColor,o.style.cssText="width: 60px; height: 40px; border: 1px solid var(--b3-border-color); border-radius: 4px; cursor: pointer;",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed; opacity: 0.5;"),o.onchange=async()=>{this.mobileConfig.toolbarBackgroundColor=o.value,await this.saveData("mobileConfig",this.mobileConfig),this.applyMobileToolbarStyle()},o}}),n.addItem({title:"â‘£å·¥å…·æ é€æ˜Žåº¦",description:"ðŸ’¡(0=å®Œå…¨é€æ˜Žï¼Œ100=å®Œå…¨ä¸é€æ˜Žï¼Œä»…åœ¨å·¥å…·æ ç½®åº•æ—¶æœ‰æ•ˆ)",createActionElement:()=>{const o=document.createElement("div");o.style.cssText="display: flex; align-items: center; gap: 10px;";const s=document.createElement("input");s.type="range",s.min="0",s.max="100",s.value=String(Math.round(this.mobileConfig.toolbarOpacity*100)),s.style.cssText="width: 150px; cursor: pointer;",s.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(s.style.cssText+="opacity: 0.5; cursor: not-allowed;");const r=document.createElement("span");return r.textContent=`${Math.round(this.mobileConfig.toolbarOpacity*100)}%`,r.style.cssText="min-width: 40px; font-size: 14px; color: var(--b3-theme-on-surface);",this.mobileConfig.enableBottomToolbar||(r.style.cssText+="opacity: 0.5;"),s.oninput=()=>{r.textContent=`${s.value}%`},s.onchange=async()=>{this.mobileConfig.toolbarOpacity=parseInt(s.value)/100,await this.saveData("mobileConfig",this.mobileConfig),this.applyMobileToolbarStyle()},o.appendChild(s),o.appendChild(r),o}}),n.addItem({title:"â‘¤å·¥å…·æ å±‚çº§",description:"ðŸ’¡å€¼è¶Šå¤§ï¼Œè¶Šä¸å®¹æ˜“è¢«é®æŒ¡ã€‚é»˜è®¤å€¼ä¸º5,æ˜¾ç¤ºåœ¨è®¾ç½®ä¸Šå±‚ä¸º10,å®Œå…¨ä¸éšè—ä¸º100ã€‚",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.type="number",o.value=this.mobileConfig.toolbarZIndex.toString(),o.style.cssText="font-size: 14px; padding: 8px;",o.min="0",o.max="100",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.toolbarZIndex=parseInt(o.value)||2,this.applyMobileToolbarStyle()},o}}),n.addItem({title:"âŒ¨ï¸è¾“å…¥æ³•æ‰“å¼€åç§»",description:"ðŸ’¡è¾“å…¥æ³•å¼¹å‡ºæ—¶å·¥å…·æ è·åº•éƒ¨è·ç¦»ã€‚",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.value=this.mobileConfig.openInputOffset,o.style.cssText="font-size: 14px; padding: 8px;",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.openInputOffset=o.value},o}}),n.addItem({title:"âŒ¨ï¸è¾“å…¥æ³•å…³é—­åç§»",description:"ðŸ’¡è¾“å…¥æ³•å…³é—­æ—¶å·¥å…·æ è·åº•éƒ¨è·ç¦»ã€‚",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.value=this.mobileConfig.closeInputOffset,o.style.cssText="font-size: 14px; padding: 8px;",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.closeInputOffset=o.value},o}}),n.addItem({title:"âŒ¨ï¸é«˜åº¦å˜åŒ–é˜ˆå€¼",description:"ðŸ’¡çª—å£é«˜åº¦å˜åŒ–è¶…è¿‡æ­¤ç™¾åˆ†æ¯”è§¦å‘ï¼š30-90",createActionElement:()=>{const o=document.createElement("input");return o.className="b3-text-field fn__flex-center fn__size200",o.type="number",o.value=this.mobileConfig.heightThreshold.toString(),o.style.cssText="font-size: 14px; padding: 8px;",o.min="30",o.max="90",o.disabled=!this.mobileConfig.enableBottomToolbar,this.mobileConfig.enableBottomToolbar||(o.style.cssText+="background-color: var(--b3-theme-surface); color: var(--b3-theme-on-surface-light); cursor: not-allowed;"),o.onchange=()=>{this.mobileConfig.heightThreshold=parseInt(o.value)||70},o}}),i("âš™ï¸","å°åŠŸèƒ½é€‰æ‹©"),n.addItem({title:"é¢åŒ…å±‘å›¾æ ‡éšè—",description:"ðŸ’¡å¼€å¯åŽéšè—é¢åŒ…å±‘å·¦ä¾§çš„å›¾æ ‡",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.featureConfig.hideBreadcrumbIcon,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.featureConfig.hideBreadcrumbIcon=o.checked,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),n.addItem({title:"é”å®šç¼–è¾‘æŒ‰é’®éšè—",description:"ðŸ’¡éšè—å·¥å…·æ çš„é”å®šç¼–è¾‘æŒ‰é’®",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.featureConfig.hideReadonlyButton,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.featureConfig.hideReadonlyButton=o.checked,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),n.addItem({title:"æ–‡æ¡£èœå•æŒ‰é’®éšè—",description:"ðŸ’¡éšè—å·¥å…·æ çš„æ–‡æ¡£èœå•æŒ‰é’®",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.featureConfig.hideDocMenuButton,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.featureConfig.hideDocMenuButton=o.checked,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),n.addItem({title:"æ›´å¤šæŒ‰é’®éšè—",description:"ðŸ’¡éšè—å·¥å…·æ çš„æ›´å¤šæŒ‰é’®",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.featureConfig.hideMoreButton,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.featureConfig.hideMoreButton=o.checked,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),n.addItem({title:"ç¦æ­¢å·¦å³æ»‘åŠ¨å¼¹å‡º",description:"ðŸ’¡å¼€å¯åŽç¦æ­¢å·¦å³æ»‘åŠ¨å¼¹å‡ºæ–‡æ¡£æ ‘å’Œè®¾ç½®èœå•",createActionElement:()=>{const o=document.createElement("input");return o.type="checkbox",o.className="b3-switch",o.checked=this.featureConfig.disableMobileSwipe,o.style.cssText="transform: scale(1.2);",o.onchange=async()=>{this.featureConfig.disableMobileSwipe=o.checked,await this.saveData("featureConfig",this.featureConfig),this.applyFeatures()},o}}),i("ðŸ’¡","ä½¿ç”¨å¸®åŠ©"),n.addItem({title:"æ‰‹æœºç«¯å¸¸ç”¨åŠŸèƒ½ID",description:"æ€æºå†…ç½®èœå•IDå‚è€ƒï¼ˆF12æŸ¥çœ‹æ›´å¤šï¼‰",createActionElement:()=>{const o=document.createElement("div");o.style.cssText=`
          font-size: 13px;
          line-height: 1.8;
          width: 100%;
          padding: 8px 0;
          max-height: 400px;
          overflow-y: auto;
        `;const s=[{id:"toolbarMore",name:"å³ä¸Šè§’ï¼šè®¾ç½®"},{id:"toolbarFile",name:"å·¦ä¸Šè§’ï¼šæ–‡æ¡£æ ‘"},{id:"menuAccount",name:"ä¸ªäººä¿¡æ¯"},{id:"menuRecent",name:"æœ€è¿‘çš„æ–‡æ¡£"},{id:"menuSearch",name:"æœç´¢"},{id:"menuCommand",name:"å‘½ä»¤é¢æ¿"},{id:"menuSyncNow",name:"ç«‹å³åŒæ­¥"},{id:"menuNewDoc",name:"æ–°å»ºæ–‡æ¡£"},{id:"menuNewNotebook",name:"æ–°å»ºç¬”è®°æœ¬"},{id:"menuNewDaily",name:"æ—¥è®°"},{id:"menuCard",name:"é—´éš”é‡å¤"},{id:"menuLock",name:"é”å±"},{id:"menuHistory",name:"æ•°æ®åŽ†å²"},{id:"menuEditor",name:"ç¼–è¾‘å™¨"},{id:"menuFileTree",name:"æ–‡æ¡£æ ‘"},{id:"menuRiffCard",name:"é—ªå¡"},{id:"menuAI",name:"AI"},{id:"menuAssets",name:"èµ„æº"},{id:"menuAppearance",name:"å¤–è§‚"},{id:"menuSync",name:"äº‘ç«¯"},{id:"menuPublish",name:"å‘å¸ƒ"},{id:"menuAbout",name:"å…³äºŽ"},{id:"menuPlugin",name:"æ’ä»¶"}];return o.innerHTML=s.map(r=>`<div style="margin: 6px 0; padding: 6px; background: var(--b3-theme-surface); border-radius: 4px; display: flex; justify-content: space-between; align-items: center;">
            <span style="color: var(--b3-theme-on-surface);">${r.name}</span>
            <code style="background: var(--b3-theme-background); padding: 3px 8px; border-radius: 3px; font-size: 11px;">${r.id}</code>
          </div>`).join(""),o}})}createDesktopIconField(n,i,o){const s=document.createElement("div");s.style.cssText="display: flex; align-items: center; gap: 12px;";const r=document.createElement("label");r.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",r.textContent=n;const l=document.createElement("div");l.className="fn__flex-1",l.style.cssText="display: flex; gap: 8px; align-items: center;";const c=document.createElement("input");c.type="text",c.value=i,c.placeholder="emojiã€lucide:å›¾æ ‡å æˆ– iconå",c.className="b3-text-field",c.style.cssText="flex: 1;";const d=document.createElement("span");d.style.cssText=`
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 4px;
      background: var(--b3-theme-background);
      border: 1px solid var(--b3-border-color);
      font-size: 14px;
      flex-shrink: 0;
    `,this.updateIconDisplay(d,i);const a=document.createElement("button");return a.className="b3-button b3-button--outline",a.textContent="é€‰æ‹©",a.style.cssText="padding: 4px 12px; font-size: 12px; flex-shrink: 0;",c.oninput=()=>{o(c.value),this.updateIconDisplay(d,c.value)},a.onclick=()=>{this.showIconPicker(c.value,f=>{c.value=f,o(f),this.updateIconDisplay(d,f)})},l.appendChild(c),l.appendChild(d),l.appendChild(a),s.appendChild(r),s.appendChild(l),s}createDesktopField(n,i,o,s,r="text"){const l=document.createElement("div");l.style.cssText="display: flex; align-items: center; gap: 12px;";const c=document.createElement("label");c.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",c.textContent=n;const d=document.createElement("input");return d.type=r,d.value=i,d.placeholder=o,d.className="b3-text-field fn__flex-1",d.onchange=()=>s(d.value),l.appendChild(c),l.appendChild(d),l}showButtonIdPicker(n,i){dc({currentValue:n,onSelect:i})}showConfirmDialog(n){return cc({message:n,confirmText:"åˆ é™¤",cancelText:"å–æ¶ˆ"})}createDesktopButtonItem(n,i,o,s){var O;const r=document.createElement("div");r.style.cssText=`
      border: 1px solid var(--b3-border-color);
      border-radius: 6px;
      padding: 12px;
      background: var(--b3-theme-surface);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      margin-bottom: 8px;
      transition: all 0.2s ease;
    `,r.draggable=!0,r.ondragstart=x=>{x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",i.toString()),r.style.opacity="0.4"},r.ondragend=x=>{r.style.opacity="1"},r.ondragover=x=>{x.preventDefault(),x.dataTransfer.dropEffect="move",r.style.borderColor="var(--b3-theme-primary)"},r.ondragleave=x=>{r.style.borderColor="var(--b3-border-color)"},r.ondrop=x=>{x.preventDefault(),r.style.borderColor="var(--b3-border-color)";const P=parseInt(x.dataTransfer.getData("text/plain")),F=i;if(P!==F){const z=[...s].sort((ue,le)=>ue.sort-le.sort),[G]=z.splice(P,1);z.splice(F,0,G),z.forEach((ue,le)=>{ue.sort=le+1}),o()}};const l=document.createElement("div");l.style.cssText="display: flex; align-items: center; gap: 10px; cursor: pointer;";const c=document.createElement("span");c.textContent="â‹®â‹®",c.style.cssText=`
      font-size: 18px;
      color: var(--b3-theme-on-surface-light);
      cursor: move;
      flex-shrink: 0;
    `,c.title="æ‹–åŠ¨æŽ’åº";const d=document.createElement("span");d.className="toolbar-customizer-button-icon",d.style.cssText=`
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: var(--b3-theme-background);
      font-size: 16px;
      flex-shrink: 0;
    `,this.updateIconDisplay(d,n.icon);const a=document.createElement("div");a.style.cssText="flex: 1; min-width: 0;",a.innerHTML=`
      <div style="font-weight: 500; font-size: 14px; color: var(--b3-theme-on-background); margin-bottom: 4px;">${n.name}</div>
      <div style="font-size: 11px; color: var(--b3-theme-on-surface-light);">
        ${n.type==="builtin"?"â‘ æ€æºå†…ç½®åŠŸèƒ½ã€ç®€å•ã€‘":n.type==="template"?"â‘ æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘":n.type==="shortcut"?"â‘¡ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘":"â‘¢è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘"}
      </div>
    `;const f=document.createElement("span");f.textContent="â–¼",f.style.cssText=`
      font-size: 10px;
      color: var(--b3-theme-on-surface-light);
      transition: transform 0.2s ease;
      flex-shrink: 0;
    `;const m=document.createElement("button");m.className="b3-button b3-button--text",m.textContent="åˆ é™¤",m.style.cssText=`
      padding: 4px 10px;
      font-size: 12px;
      color: var(--b3-card-error-color);
      flex-shrink: 0;
      border-radius: 4px;
    `,m.onclick=async x=>{if(x.stopPropagation(),await this.showConfirmDialog(`ç¡®å®šåˆ é™¤"${n.name}"ï¼Ÿ`)){const P=s.findIndex(F=>F.id===n.id);P!==-1&&(s.splice(P,1),s.sort((F,z)=>F.sort-z.sort).forEach((F,z)=>{F.sort=z+1}),o())}};const h=document.createElement("input");h.type="checkbox",h.className="b3-switch",h.checked=n.enabled!==!1,h.style.cssText="transform: scale(0.8); flex-shrink: 0; cursor: pointer;",h.title=n.enabled!==!1?"ç‚¹å‡»ç¦ç”¨æŒ‰é’®":"ç‚¹å‡»å¯ç”¨æŒ‰é’®",h.onclick=x=>{x.stopPropagation(),n.enabled=h.checked,h.title=h.checked?"ç‚¹å‡»ç¦ç”¨æŒ‰é’®":"ç‚¹å‡»å¯ç”¨æŒ‰é’®",r.style.opacity=h.checked?"1":"0.5"},n.enabled===!1&&(r.style.opacity="0.5"),l.appendChild(c),l.appendChild(d),l.appendChild(a),l.appendChild(f),l.appendChild(h),l.appendChild(m);const b=document.createElement("div");b.className="toolbar-customizer-edit-form",b.style.cssText=`
      display: none;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--b3-border-color);
      gap: 10px;
      flex-direction: column;
    `;const E=this.createDesktopField("åç§°",n.name,"æŒ‰é’®æ˜¾ç¤ºåç§°",x=>{n.name=x,a.querySelector("div:first-child").textContent=x});if(b.appendChild(E),b.appendChild(this.createDesktopSelectField("é€‰æ‹©åŠŸèƒ½",n.type,[{value:"template",label:"â‘ æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘"},{value:"shortcut",label:"â‘¡ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘"},{value:"click-sequence",label:"â‘¢è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘"}],x=>{n.type=x;const P=r.dataset.expanded==="true",F=document.createElement("div");F.className="toolbar-customizer-edit-form",F.style.cssText=b.style.cssText,F.style.display=P?"flex":"none",this.populateDesktopEditForm(F,n,d,a,r,o),b.replaceWith(F);const z=a.querySelector("div:last-child");z&&(z.textContent=n.type==="builtin"?"â‘ æ€æºå†…ç½®åŠŸèƒ½ã€ç®€å•ã€‘":n.type==="template"?"â‘ æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘":n.type==="shortcut"?"â‘¡ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘":"â‘¢è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘")})),n.type==="template"){const x=document.createElement("div");x.style.cssText="display: flex; flex-direction: column; gap: 4px;";const P=document.createElement("label");P.textContent="æ¨¡æ¿å†…å®¹",P.style.cssText="font-size: 13px;";const F=document.createElement("textarea");F.className="b3-text-field",F.value=n.template||"",F.style.cssText="resize: vertical; min-height: 80px;",F.onchange=()=>{n.template=F.value};const z=document.createElement("div");z.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px; margin-top: 4px;",z.innerHTML=`
        <div style="font-weight: 500; margin-bottom: 4px;">ðŸ’¡ æ”¯æŒçš„æ¨¡æ¿å˜é‡ï¼š</div>
        <div style="display: grid; grid-template-columns: auto 1fr; gap: 4px 12px; font-family: monospace;">
          <code>{{date}}</code><span>å½“å‰æ—¥æœŸ (2026-01-18)</span>
          <code>{{time}}</code><span>å½“å‰æ—¶é—´ (14:30:45)</span>
          <code>{{datetime}}</code><span>æ—¥æœŸæ—¶é—´ (2026-01-18 14:30:45)</span>
          <code>{{year}}</code><span>å¹´ä»½ (2026)</span>
          <code>{{month}}</code><span>æœˆä»½ (01)</span>
          <code>{{day}}</code><span>æ—¥æœŸ (18)</span>
          <code>{{hour}}</code><span>å°æ—¶ (14)</span>
          <code>{{minute}}</code><span>åˆ†é’Ÿ (30)</span>
          <code>{{second}}</code><span>ç§’ (45)</span>
          <code>{{week}}</code><span>æ˜ŸæœŸå‡  (æ˜ŸæœŸå…­)</span>
        </div>
      `,x.appendChild(P),x.appendChild(F),x.appendChild(z),b.appendChild(x)}else if(n.type==="click-sequence"){const x=document.createElement("div");x.style.cssText="display: flex; flex-direction: column; gap: 4px;";const P=document.createElement("div");P.style.cssText="display: flex; align-items: center; justify-content: space-between; gap: 8px;";const F=document.createElement("label");F.textContent="ç‚¹å‡»åºåˆ—ï¼ˆæ¯è¡Œä¸€ä¸ªé€‰æ‹©å™¨ï¼‰",F.style.cssText="font-size: 13px;",P.appendChild(F);const z=document.createElement("button");z.className="b3-button b3-button--outline",z.textContent="é€‰æ‹©",z.style.cssText="padding: 4px 12px; font-size: 12px; white-space: nowrap;",z.onclick=()=>{Ko({platform:"desktop",onSelect:le=>{const be=G.querySelector("textarea");be&&(be.value=le.join(`
`),n.clickSequence=le,G.updateLineNumbers())}})},P.appendChild(z),x.appendChild(P);const G=this.createLineNumberedTextarea(((O=n.clickSequence)==null?void 0:O.join(`
`))||"",le=>{n.clickSequence=le.split(`
`).filter(be=>be.trim())});x.appendChild(G);const ue=document.createElement("div");ue.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding-left: 4px;",ue.innerHTML="ðŸ’¡ æ¯è¡Œå¡«å†™ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œæ”¯æŒï¼š<br>â€¢ ç®€å•æ ‡è¯†ç¬¦ï¼ˆå¦‚ barSettingsï¼‰<br>â€¢ CSSé€‰æ‹©å™¨ï¼ˆå¦‚ #barSettingsï¼‰<br>â€¢ <strong>æ–‡æœ¬å†…å®¹ï¼ˆå¦‚ text:å¤åˆ¶å—å¼•ç”¨ï¼‰</strong>",x.appendChild(ue),b.appendChild(x)}else if(n.type==="shortcut"){const x=document.createElement("div");x.style.cssText="display: flex; flex-direction: column; gap: 4px;";const P=document.createElement("label");P.textContent="å¿«æ·é”®ç»„åˆ",P.style.cssText="font-size: 13px;",x.appendChild(P);const F=document.createElement("input");F.className="b3-text-field fn__flex-1",F.type="text",F.placeholder="å¿«æ·é”®æ ¼å¼ï¼šAlt+5 / Ctrl+Bç­‰",F.value=n.shortcutKey||"",F.style.cssText="font-family: monospace;",F.onchange=()=>{n.shortcutKey=F.value},x.appendChild(F);const z=document.createElement("div");z.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px; overflow-x: auto;",z.innerHTML=`
        <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
          <tr><td>ðŸ’¡æ›´å¤šå¿«æ·é”®ï¼Œè¯·æŸ¥çœ‹ï¼šæ€æºæ¡Œé¢ç«¯âž¡è®¾ç½®âž¡å¿«æ·é”®</td></tr>
          <tr><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">å¿«æ·é”®</th><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">åŠŸèƒ½</th></tr>
          <tr><td><code>Alt+5</code></td><td>æ‰“å¼€æ—¥è®°</td></tr>
          <tr><td><code>Alt+P</code></td><td>æ‰“å¼€è®¾ç½®</td></tr>
          <tr><td><code>Alt+Shift+P</code></td><td>å‘½ä»¤é¢æ¿</td></tr>
          <tr><td><code>Ctrl+P</code></td><td>å…¨å±€æœç´¢</td></tr>
          <tr><td><code>Ctrl+F</code></td><td>å½“å‰æ–‡æ¡£æœç´¢</td></tr>
          <tr><td><code>Ctrl+H</code></td><td>æ›¿æ¢</td></tr>
          <tr><td><code>Ctrl+N</code></td><td>æ–°å»ºæ–‡æ¡£</td></tr>
          <tr><td><code>Alt+1</code></td><td>æ–‡ä»¶æ ‘</td></tr>
          <tr><td><code>Alt+2</code></td><td>å¤§çº²</td></tr>
          <tr><td><code>Alt+3</code></td><td>ä¹¦ç­¾</td></tr>
          <tr><td><code>Alt+4</code></td><td>æ ‡ç­¾</td></tr>
          <tr><td><code>Alt+7</code></td><td>åå‘é“¾æŽ¥</td></tr>
          <tr><td><code>Ctrl+W</code></td><td>å…³é—­æ ‡ç­¾é¡µ</td></tr>
        </table>
      `,x.appendChild(z),b.appendChild(x)}b.appendChild(this.createDesktopIconField("å›¾æ ‡",n.icon,x=>{n.icon=x,this.updateIconDisplay(d,x)})),b.appendChild(this.createDesktopField("å›¾æ ‡å¤§å°",n.iconSize.toString(),"18",x=>{n.iconSize=parseInt(x)||18},"number")),b.appendChild(this.createDesktopField("æŒ‰é’®å®½åº¦",n.minWidth.toString(),"32",x=>{n.minWidth=parseInt(x)||32},"number")),b.appendChild(this.createDesktopField("å³è¾¹è·",n.marginRight.toString(),"8",x=>{n.marginRight=parseInt(x)||8},"number")),b.appendChild(this.createDesktopField("æŽ’åº",n.sort.toString(),"1",x=>{n.sort=parseInt(x)||1,[...this.buttonConfigs].sort((F,z)=>F.sort-z.sort).forEach((F,z)=>{F.sort=z+1}),o()},"number"));const L=document.createElement("div");L.style.cssText="display: flex; align-items: center; gap: 12px;";const D=document.createElement("label");D.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",D.textContent="å³ä¸Šè§’æç¤ºï¼ˆé»˜è®¤æ‰“å¼€æç¤ºï¼‰";const R=document.createElement("input");return R.type="checkbox",R.className="b3-switch",R.checked=n.showNotification,R.onchange=()=>{n.showNotification=R.checked},L.appendChild(D),L.appendChild(R),b.appendChild(L),r.dataset.expanded="false",l.onclick=x=>{const P=x.target;if(P.closest("button")||P.closest("input")||P.closest("select")||P.closest(".b3-switch"))return;const F=r.dataset.expanded==="true";r.dataset.expanded=(!F).toString();const z=r.querySelector(".toolbar-customizer-edit-form");z&&(z.style.display=F?"none":"flex"),f.style.transform=F?"rotate(0deg)":"rotate(180deg)"},r.appendChild(l),r.appendChild(b),r}populateDesktopEditForm(n,i,o,s,r,l){var f;if(n.appendChild(this.createDesktopField("åç§°",i.name,"æŒ‰é’®åç§°",m=>{i.name=m;const h=s.querySelector("div:first-child");h&&(h.textContent=m)})),n.appendChild(this.createDesktopSelectField("é€‰æ‹©åŠŸèƒ½",i.type,[{value:"template",label:"â‘ æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘"},{value:"shortcut",label:"â‘¡ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘"},{value:"click-sequence",label:"â‘¢è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘"}],m=>{i.type=m;const h=r.dataset.expanded==="true",b=document.createElement("div");b.className="toolbar-customizer-edit-form",b.style.cssText=n.style.cssText,b.style.display=h?"flex":"none",this.populateDesktopEditForm(b,i,o,s,r,l),n.replaceWith(b);const E=s.querySelector("div:last-child");E&&(E.textContent=i.type==="builtin"?"â‘ æ€æºå†…ç½®åŠŸèƒ½ã€ç®€å•ã€‘":i.type==="template"?"â‘ æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘":i.type==="shortcut"?"â‘¡ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘":"â‘¢è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘")})),i.type==="template"){const m=document.createElement("div");m.style.cssText="display: flex; flex-direction: column; gap: 4px;";const h=document.createElement("label");h.textContent="æ¨¡æ¿å†…å®¹",h.style.cssText="font-size: 13px;";const b=document.createElement("textarea");b.className="b3-text-field",b.value=i.template||"",b.style.cssText="resize: vertical; min-height: 80px;",b.onchange=()=>{i.template=b.value};const E=document.createElement("div");E.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px; margin-top: 4px;",E.innerHTML=`
        <div style="font-weight: 500; margin-bottom: 4px;">ðŸ’¡ æ”¯æŒçš„æ¨¡æ¿å˜é‡ï¼š</div>
        <div style="display: grid; grid-template-columns: auto 1fr; gap: 4px 12px; font-family: monospace;">
          <code>{{date}}</code><span>å½“å‰æ—¥æœŸ (2026-01-18)</span>
          <code>{{time}}</code><span>å½“å‰æ—¶é—´ (14:30:45)</span>
          <code>{{datetime}}</code><span>æ—¥æœŸæ—¶é—´ (2026-01-18 14:30:45)</span>
          <code>{{year}}</code><span>å¹´ä»½ (2026)</span>
          <code>{{month}}</code><span>æœˆä»½ (01)</span>
          <code>{{day}}</code><span>æ—¥æœŸ (18)</span>
          <code>{{hour}}</code><span>å°æ—¶ (14)</span>
          <code>{{minute}}</code><span>åˆ†é’Ÿ (30)</span>
          <code>{{second}}</code><span>ç§’ (45)</span>
          <code>{{week}}</code><span>æ˜ŸæœŸå‡  (æ˜ŸæœŸå…­)</span>
        </div>
      `,m.appendChild(h),m.appendChild(b),m.appendChild(E),n.appendChild(m)}else if(i.type==="click-sequence"){const m=document.createElement("div");m.style.cssText="display: flex; flex-direction: column; gap: 4px;";const h=document.createElement("div");h.style.cssText="display: flex; align-items: center; justify-content: space-between; gap: 8px;";const b=document.createElement("label");b.textContent="ç‚¹å‡»åºåˆ—ï¼ˆæ¯è¡Œä¸€ä¸ªé€‰æ‹©å™¨ï¼‰",b.style.cssText="font-size: 13px;",h.appendChild(b);const E=document.createElement("button");E.className="b3-button b3-button--outline",E.textContent="é€‰æ‹©",E.style.cssText="padding: 4px 12px; font-size: 12px; white-space: nowrap;",E.onclick=()=>{const R=L.querySelector("textarea");if(R){const O=this.isMobile?`toolbarMore
menuPlugin
text:å·¥å…·æ å®šåˆ¶å™¨`:`barPlugins
text:å·¥å…·æ å®šåˆ¶å™¨`;R.value=O,i.clickSequence=O.split(`
`),L.updateLineNumbers()}},h.appendChild(E),m.appendChild(h);const L=this.createLineNumberedTextarea(((f=i.clickSequence)==null?void 0:f.join(`
`))||"",R=>{i.clickSequence=R.split(`
`).filter(O=>O.trim())});m.appendChild(L);const D=document.createElement("div");D.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding-left: 4px;",D.innerHTML="ðŸ’¡ æ¯è¡Œå¡«å†™ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œæ”¯æŒï¼š<br>â€¢ ç®€å•æ ‡è¯†ç¬¦ï¼ˆå¦‚ barSettingsï¼‰<br>â€¢ CSSé€‰æ‹©å™¨ï¼ˆå¦‚ #barSettingsï¼‰<br>â€¢ <strong>æ–‡æœ¬å†…å®¹ï¼ˆå¦‚ text:å¤åˆ¶å—å¼•ç”¨ï¼‰</strong>",m.appendChild(D),n.appendChild(m)}else if(i.type==="shortcut"){const m=document.createElement("div");m.style.cssText="display: flex; flex-direction: column; gap: 4px;";const h=document.createElement("label");h.textContent="å¿«æ·é”®ç»„åˆ",h.style.cssText="font-size: 13px;",m.appendChild(h);const b=document.createElement("input");b.className="b3-text-field fn__flex-1",b.type="text",b.placeholder="å¿«æ·é”®æ ¼å¼ï¼šAlt+5 / Ctrl+Bç­‰",b.value=i.shortcutKey||"",b.style.cssText="font-family: monospace;",b.onchange=()=>{i.shortcutKey=b.value},m.appendChild(b);const E=document.createElement("div");E.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px; overflow-x: auto;",E.innerHTML=`
        <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
          <tr><td>ðŸ’¡æ›´å¤šå¿«æ·é”®ï¼Œè¯·æŸ¥çœ‹ï¼šæ€æºæ¡Œé¢ç«¯âž¡è®¾ç½®âž¡å¿«æ·é”®</td></tr>
          <tr><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">å¿«æ·é”®</th><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">åŠŸèƒ½</th></tr>
          <tr><td><code>Alt+5</code></td><td>æ‰“å¼€æ—¥è®°</td></tr>
          <tr><td><code>Alt+P</code></td><td>æ‰“å¼€è®¾ç½®</td></tr>
          <tr><td><code>Alt+Shift+P</code></td><td>å‘½ä»¤é¢æ¿</td></tr>
          <tr><td><code>Ctrl+P</code></td><td>å…¨å±€æœç´¢</td></tr>
          <tr><td><code>Ctrl+F</code></td><td>å½“å‰æ–‡æ¡£æœç´¢</td></tr>
          <tr><td><code>Ctrl+H</code></td><td>æ›¿æ¢</td></tr>
          <tr><td><code>Ctrl+N</code></td><td>æ–°å»ºæ–‡æ¡£</td></tr>
          <tr><td><code>Alt+1</code></td><td>æ–‡ä»¶æ ‘</td></tr>
          <tr><td><code>Alt+2</code></td><td>å¤§çº²</td></tr>
          <tr><td><code>Alt+3</code></td><td>ä¹¦ç­¾</td></tr>
          <tr><td><code>Alt+4</code></td><td>æ ‡ç­¾</td></tr>
          <tr><td><code>Alt+7</code></td><td>åå‘é“¾æŽ¥</td></tr>
          <tr><td><code>Ctrl+W</code></td><td>å…³é—­æ ‡ç­¾é¡µ</td></tr>
        </table>
      `,m.appendChild(E),n.appendChild(m)}n.appendChild(this.createDesktopIconField("å›¾æ ‡",i.icon,m=>{i.icon=m})),n.appendChild(this.createDesktopField("å›¾æ ‡å¤§å°",i.iconSize.toString(),"18",m=>{i.iconSize=parseInt(m)||18},"number")),n.appendChild(this.createDesktopField("æŒ‰é’®å®½åº¦",i.minWidth.toString(),"32",m=>{i.minWidth=parseInt(m)||32},"number")),n.appendChild(this.createDesktopField("å³è¾¹è·",i.marginRight.toString(),"8",m=>{i.marginRight=parseInt(m)||8},"number")),n.appendChild(this.createDesktopField("æŽ’åº",i.sort.toString(),"1",m=>{i.sort=parseInt(m)||1,[...this.buttonConfigs].sort((b,E)=>b.sort-E.sort).forEach((b,E)=>{b.sort=E+1}),l&&l()},"number"));const c=document.createElement("div");c.style.cssText="display: flex; align-items: center; gap: 12px;";const d=document.createElement("label");d.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",d.textContent="å³ä¸Šè§’æç¤º";const a=document.createElement("input");a.type="checkbox",a.className="b3-switch",a.checked=i.showNotification,a.onchange=()=>{i.showNotification=a.checked},c.appendChild(d),c.appendChild(a),n.appendChild(c)}createDesktopSelectField(n,i,o,s){const r=document.createElement("div");r.style.cssText="display: flex; align-items: center; gap: 12px;";const l=document.createElement("label");l.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface); min-width: 120px;",l.textContent=n;const c=document.createElement("select");return c.className="b3-text-field fn__flex-1",c.style.cssText=`
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      font-size: 14px;
      cursor: pointer;
    `,o.forEach(d=>{const a=document.createElement("option");a.value=d.value,a.textContent=d.label,c.appendChild(a)}),c.value=i,c.addEventListener("change",()=>{console.log("Desktop select changed to:",c.value),s(c.value)}),r.appendChild(l),r.appendChild(c),r}createMobileButtonItem(n,i,o,s){const r=document.createElement("div");r.style.cssText=`
      border: 1px solid var(--b3-border-color);
      border-radius: 6px;
      padding: 12px;
      background: var(--b3-theme-surface);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      position: relative;
      transition: all 0.2s ease;
    `,r.draggable=!0;let l=!1,c=0,d=!1,a=null,f=null,m=null,h=0;r.ondragstart=T=>{T.dataTransfer.effectAllowed="move",T.dataTransfer.setData("text/plain",i.toString()),r.style.opacity="0.4"},r.ondragend=T=>{r.style.opacity="1"},r.ondragover=T=>{T.preventDefault(),T.dataTransfer.dropEffect="move",r.style.borderColor="var(--b3-theme-primary)"},r.ondragleave=T=>{r.style.borderColor="var(--b3-border-color)"},r.ondrop=T=>{T.preventDefault(),r.style.borderColor="var(--b3-border-color)";const I=parseInt(T.dataTransfer.getData("text/plain")),S=i;if(I!==S){const M=[...s].sort((N,j)=>N.sort-j.sort),[W]=M.splice(I,1);M.splice(S,0,W),M.forEach((N,j)=>{N.sort=j+1}),o()}};const b=T=>{if(d||l)return;const I=T.touches[0];I.clientY,c=Date.now(),h=I.clientY,a=window.setTimeout(()=>{var M;Date.now()-c>=300&&!d&&!l&&(d=!0,f=r,m=document.createElement("div"),m.style.cssText=`
            height: ${r.offsetHeight}px;
            border: 2px dashed var(--b3-theme-primary);
            border-radius: 6px;
            margin: 4px 0;
            background: var(--b3-theme-background);
            opacity: 0.5;
          `,r.style.willChange="transform, opacity",r.style.opacity="0.8",r.style.transform="scale(1.05)",r.style.boxShadow="0 8px 16px rgba(0,0,0,0.2)",r.style.zIndex="1000",r.style.position="fixed",r.style.width=`${r.offsetWidth}px`,r.style.left=`${r.getBoundingClientRect().left}px`,r.style.top=`${I.clientY-r.offsetHeight/2}px`,r.style.pointerEvents="none",(M=r.parentElement)==null||M.insertBefore(m,r),navigator.vibrate&&navigator.vibrate(50))},300)},E=T=>{if(!d){const N=T.touches[0];Math.abs(N.clientY-h)>10&&a&&(clearTimeout(a),a=null);return}if(!f||!m)return;T.preventDefault(),T.stopPropagation();const I=T.touches[0],S=I.clientY-f.offsetHeight/2,M=parseFloat(f.style.top)||S,W=S-M;f.style.transform=`scale(1.05) translateY(${W}px)`,requestAnimationFrame(()=>{var Y,ie,ee;if(!f||!m)return;const N=Array.from(((Y=r.parentElement)==null?void 0:Y.children)||[]).filter(se=>se!==f&&se!==m&&se.hasAttribute("draggable"));let j=null,pe=!0;for(const se of N){const de=se.getBoundingClientRect(),re=de.top+de.height/2;if(I.clientY<re&&I.clientY>de.top-20){j=se,pe=!0;break}else if(I.clientY>re&&I.clientY<de.bottom+20){j=se,pe=!1;break}}j&&m&&m.parentElement&&(pe?(ie=j.parentElement)==null||ie.insertBefore(m,j):(ee=j.parentElement)==null||ee.insertBefore(m,j.nextSibling))})},L=T=>{var I,S,M;if(a&&(clearTimeout(a),a=null),!!d){if(T.preventDefault(),T.stopPropagation(),d=!1,f&&m){const N=Array.from(((I=r.parentElement)==null?void 0:I.children)||[]).filter(Y=>Y.hasAttribute("draggable")).indexOf(f);(S=m.parentElement)==null||S.insertBefore(f,m),m.remove(),f.style.transition="all 0.2s ease",f.style.willChange="auto",f.style.opacity="1",f.style.transform="",f.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",f.style.zIndex="",f.style.position="relative",f.style.width="",f.style.left="",f.style.top="",f.style.pointerEvents="",setTimeout(()=>{f&&(f.style.transition="")},200);const pe=Array.from(((M=r.parentElement)==null?void 0:M.children)||[]).filter(Y=>Y.hasAttribute("draggable")).indexOf(f);if(N!==pe&&N!==-1&&pe!==-1){const Y=[...s].sort((ee,se)=>ee.sort-se.sort),[ie]=Y.splice(N,1);Y.splice(pe,0,ie),Y.forEach((ee,se)=>{ee.sort=se+1}),o()}}f=null,m=null,c=0,h=0}};r.addEventListener("touchstart",b,{passive:!0}),r.addEventListener("touchmove",E,{passive:!1}),r.addEventListener("touchend",L),r.addEventListener("touchcancel",L);const D=document.createElement("div");D.style.cssText="display: flex; align-items: center; gap: 10px; cursor: pointer;";const R=document.createElement("span");R.textContent="â‹®â‹®",R.style.cssText=`
      font-size: 18px;
      color: var(--b3-theme-on-surface-light);
      cursor: move;
      touch-action: none;
    `,R.title="é•¿æŒ‰æ‹–åŠ¨æŽ’åº";const O=document.createElement("span");O.className="toolbar-customizer-button-icon",O.style.cssText=`
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: var(--b3-theme-background);
      font-size: 16px;
      flex-shrink: 0;
    `,this.updateIconDisplay(O,n.icon);const x=document.createElement("div");x.style.cssText="flex: 1; min-width: 0;",x.innerHTML=`
      <div style="font-weight: 500; font-size: 14px; color: var(--b3-theme-on-background); margin-bottom: 4px;">${n.name}</div>
      <div style="font-size: 11px; color: var(--b3-theme-on-surface-light);">
        ${n.type==="builtin"?"â‘ æ€æºå†…ç½®åŠŸèƒ½ã€ç®€å•ã€‘":n.type==="template"?"â‘¡æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘":n.type==="shortcut"?"â‘¢ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘":"â‘£è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘"}
      </div>
    `;const P=document.createElement("span");P.textContent="â–¼",P.style.cssText=`
      font-size: 10px;
      color: var(--b3-theme-on-surface-light);
      transition: transform 0.2s ease;
      flex-shrink: 0;
    `;const F=document.createElement("button");F.className="b3-button b3-button--text",F.textContent="åˆ é™¤",F.style.cssText=`
      padding: 4px 10px;
      font-size: 12px;
      color: var(--b3-card-error-color);
      flex-shrink: 0;
      border-radius: 4px;
    `,F.onclick=async T=>{if(T.stopPropagation(),await this.showConfirmDialog(`ç¡®å®šåˆ é™¤"${n.name}"ï¼Ÿ`)){const I=s.findIndex(S=>S.id===n.id);I!==-1&&(s.splice(I,1),s.sort((S,M)=>S.sort-M.sort).forEach((S,M)=>{S.sort=M+1}),o())}};const z=document.createElement("input");z.type="checkbox",z.className="b3-switch",z.checked=n.enabled!==!1,z.style.cssText="transform: scale(0.8); flex-shrink: 0; cursor: pointer;",z.title=n.enabled!==!1?"ç‚¹å‡»ç¦ç”¨æŒ‰é’®":"ç‚¹å‡»å¯ç”¨æŒ‰é’®",z.onclick=T=>{T.stopPropagation(),n.enabled=z.checked,z.title=z.checked?"ç‚¹å‡»ç¦ç”¨æŒ‰é’®":"ç‚¹å‡»å¯ç”¨æŒ‰é’®",r.style.opacity=z.checked?"1":"0.5"},n.enabled===!1&&(r.style.opacity="0.5"),D.appendChild(R),D.appendChild(O),D.appendChild(x),D.appendChild(P),D.appendChild(z),D.appendChild(F);const G=document.createElement("div");G.style.cssText=`
      display: none;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--b3-border-color);
      gap: 10px;
      flex-direction: column;
    `;const ue=this.createInputField("åç§°",n.name,"æŒ‰é’®æ˜¾ç¤ºåç§°",T=>{n.name=T,x.querySelector("div:first-child").textContent=T});G.appendChild(ue);const le=ue.querySelector("input"),be=this.createSelectField("é€‰æ‹©åŠŸèƒ½",n.type,[{value:"builtin",label:"â‘ æ€æºå†…ç½®åŠŸèƒ½ã€ç®€å•ã€‘"},{value:"template",label:"â‘¡æ‰‹å†™æ¨¡æ¿æ’å…¥ã€ç®€å•ã€‘"},{value:"shortcut",label:"â‘¢ç”µè„‘ç«¯å¿«æ·é”®ã€ç®€å•ã€‘"},{value:"click-sequence",label:"â‘£è‡ªåŠ¨åŒ–æ¨¡æ‹Ÿç‚¹å‡»ã€éš¾ã€‘"}],T=>{n.type=T,Ae()});G.appendChild(be);const ge=document.createElement("div");ge.style.cssText="display: flex; flex-direction: column; gap: 10px;",G.appendChild(ge);const Ae=()=>{var T;if(ge.innerHTML="",n.type==="builtin"){const I=document.createElement("div");I.style.cssText="display: flex; flex-direction: column; gap: 6px;";const S=document.createElement("label");S.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface);",S.textContent="æŒ‰é’®é€‰æ‹©å™¨";const M=document.createElement("div");M.style.cssText="display: flex; gap: 8px; align-items: center;";const W=document.createElement("input");W.type="text",W.value=n.builtinId||"",W.placeholder="é€‰æ‹©æˆ–è¾“å…¥æŒ‰é’®ID",W.className="b3-text-field fn__flex-1",W.style.cssText="flex: 1;";const N=document.createElement("button");N.className="b3-button b3-button--outline",N.textContent="é€‰æ‹©",N.style.cssText="padding: 6px 12px; font-size: 13px; flex-shrink: 0; white-space: nowrap;",W.oninput=()=>{n.builtinId=W.value},N.onclick=()=>{this.showButtonIdPicker(W.value,Y=>{W.value=Y.id,n.builtinId=Y.id,n.name=Y.name,n.icon=Y.icon,x.querySelector("div:first-child").textContent=Y.name,this.updateIconDisplay(O,Y.icon),le&&(le.value=Y.name),Ye&&(Ye.value=Y.icon),ce&&this.updateIconDisplay(ce,Y.icon)})},M.appendChild(W),M.appendChild(N),I.appendChild(S),I.appendChild(M);const j=document.createElement("div");j.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); margin-top: -4px; padding-left: 4px;",j.innerHTML='ðŸ’¡ <a href="#" style="color: var(--b3-theme-primary); text-decoration: none; font-weight: 500;">æŸ¥çœ‹å¸¸ç”¨ID â†’</a>';const pe=j.querySelector("a");pe&&(pe.onclick=Y=>{Y.preventDefault(),setTimeout(()=>{const ee=Array.from(document.querySelectorAll(".b3-label")).find(se=>{const de=se.querySelector(".b3-label__text"),re=de==null?void 0:de.textContent;return de&&(re==null?void 0:re.includes("æ€æºå†…ç½®èœå•IDå‚è€ƒ"))});if(ee){ee.scrollIntoView({behavior:"smooth",block:"center"});const se=ee,de=se.style.background;se.style.background="var(--b3-theme-primary-lightest)",setTimeout(()=>{se.style.background=de},2e3)}},100)}),I.appendChild(j),ge.appendChild(I)}else if(n.type==="template"){const I=document.createElement("div");I.style.cssText="display: flex; flex-direction: column; gap: 6px;";const S=this.createTextareaField("æ¨¡æ¿å†…å®¹",n.template||"","æ’å…¥çš„æ–‡æœ¬",W=>{n.template=W});I.appendChild(S);const M=document.createElement("div");M.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px;",M.innerHTML=`
          <div style="font-weight: 500; margin-bottom: 6px;">ðŸ’¡ æ”¯æŒçš„æ¨¡æ¿å˜é‡ï¼š</div>
          <div style="display: grid; grid-template-columns: auto 1fr; gap: 4px 8px; font-family: monospace; font-size: 10px;">
            <code>{{date}}</code><span>æ—¥æœŸ (2026-01-18)</span>
            <code>{{time}}</code><span>æ—¶é—´ (14:30:45)</span>
            <code>{{datetime}}</code><span>æ—¥æœŸæ—¶é—´</span>
            <code>{{year}}</code><span>å¹´ä»½ (2026)</span>
            <code>{{month}}</code><span>æœˆä»½ (01)</span>
            <code>{{day}}</code><span>æ—¥ (18)</span>
            <code>{{hour}}</code><span>å°æ—¶ (14)</span>
            <code>{{minute}}</code><span>åˆ†é’Ÿ (30)</span>
            <code>{{second}}</code><span>ç§’ (45)</span>
            <code>{{week}}</code><span>æ˜ŸæœŸå‡ </span>
          </div>
        `,I.appendChild(M),ge.appendChild(I)}else if(n.type==="click-sequence"){const I=document.createElement("div");I.style.cssText="display: flex; flex-direction: column; gap: 6px;";const S=document.createElement("div");S.style.cssText="display: flex; align-items: center; justify-content: space-between; gap: 8px;";const M=document.createElement("label");M.textContent="ç‚¹å‡»åºåˆ—ï¼ˆæ¯è¡Œä¸€ä¸ªé€‰æ‹©å™¨ï¼‰",M.style.cssText="font-size: 13px; color: var(--b3-theme-on-surface);",S.appendChild(M);const W=document.createElement("button");W.className="b3-button b3-button--outline",W.textContent="é€‰æ‹©",W.style.cssText="padding: 4px 12px; font-size: 12px; white-space: nowrap;",W.onclick=()=>{const pe=s===this.mobileButtonConfigs;Ko({platform:pe?"mobile":"desktop",onSelect:Y=>{const ie=N.querySelector("textarea");ie&&(ie.value=Y.join(`
`),n.clickSequence=Y,N.updateLineNumbers())}})},S.appendChild(W),I.appendChild(S);const N=this.createLineNumberedTextarea(((T=n.clickSequence)==null?void 0:T.join(`
`))||"",pe=>{n.clickSequence=pe.split(`
`).filter(Y=>Y.trim())});I.appendChild(N);const j=document.createElement("div");j.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding-left: 4px;",j.innerHTML="ðŸ’¡ æ¯è¡Œå¡«å†™ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œæ”¯æŒï¼š<br>â€¢ ç®€å•æ ‡è¯†ç¬¦ï¼ˆå¦‚ barSettingsï¼‰<br>â€¢ CSSé€‰æ‹©å™¨ï¼ˆå¦‚ #barSettingsï¼‰<br>â€¢ <strong>æ–‡æœ¬å†…å®¹ï¼ˆå¦‚ text:å¤åˆ¶å—å¼•ç”¨ï¼‰</strong>",I.appendChild(j),ge.appendChild(I)}else if(n.type==="shortcut"){const I=document.createElement("div");I.style.cssText="display: flex; flex-direction: column; gap: 6px;";const S=this.createInputField("å¿«æ·é”®ç»„åˆ",n.shortcutKey||"","å¿«æ·é”®æ ¼å¼ï¼šAlt+5 / Ctrl+Bç­‰",W=>{n.shortcutKey=W});S.querySelector("input").style.fontFamily="monospace",I.appendChild(S);const M=document.createElement("div");M.style.cssText="font-size: 11px; color: var(--b3-theme-on-surface-light); padding: 8px; background: var(--b3-theme-surface); border-radius: 4px; overflow-x: auto;",M.innerHTML=`
          <table style="width: 100%; border-collapse: collapse; font-family: monospace;">
            <tr><td>ðŸ’¡æ›´å¤šå¿«æ·é”®ï¼Œè¯·æŸ¥çœ‹ï¼šæ€æºæ¡Œé¢ç«¯âž¡è®¾ç½®âž¡å¿«æ·é”®</td></tr>
            <tr><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">å¿«æ·é”®</th><th style="padding: 4px; text-align: left; border-bottom: 1px solid var(--b3-theme-border);">åŠŸèƒ½</th></tr>
            <tr><td><code>Alt+5</code></td><td>æ‰“å¼€æ—¥è®°</td></tr>
            <tr><td><code>Alt+P</code></td><td>æ‰“å¼€è®¾ç½®</td></tr>
            <tr><td><code>Alt+Shift+P</code></td><td>å‘½ä»¤é¢æ¿</td></tr>
            <tr><td><code>Ctrl+P</code></td><td>å…¨å±€æœç´¢</td></tr>
            <tr><td><code>Ctrl+F</code></td><td>å½“å‰æ–‡æ¡£æœç´¢</td></tr>
            <tr><td><code>Ctrl+H</code></td><td>æ›¿æ¢</td></tr>
            <tr><td><code>Ctrl+N</code></td><td>æ–°å»ºæ–‡æ¡£</td></tr>
            <tr><td><code>Alt+1</code></td><td>æ–‡ä»¶æ ‘</td></tr>
            <tr><td><code>Alt+2</code></td><td>å¤§çº²</td></tr>
            <tr><td><code>Alt+3</code></td><td>ä¹¦ç­¾</td></tr>
            <tr><td><code>Alt+4</code></td><td>æ ‡ç­¾</td></tr>
            <tr><td><code>Alt+7</code></td><td>åå‘é“¾æŽ¥</td></tr>
            <tr><td><code>Ctrl+W</code></td><td>å…³é—­æ ‡ç­¾é¡µ</td></tr>
          </table>
        `,I.appendChild(M),ge.appendChild(I)}};Ae();const Be=this.createIconField("å›¾æ ‡",n.icon,T=>{n.icon=T;const I=r.querySelector(".toolbar-customizer-button-icon");I&&this.updateIconDisplay(I,T)});G.appendChild(Be);const Ye=Be.querySelector("input"),ce=Be.querySelector("span");return G.appendChild(this.createInputField("å›¾æ ‡å¤§å°",n.iconSize.toString(),"18",T=>{n.iconSize=parseInt(T)||18},"number")),G.appendChild(this.createInputField("æŒ‰é’®å®½åº¦",n.minWidth.toString(),"32",T=>{n.minWidth=parseInt(T)||32},"number")),G.appendChild(this.createInputField("å³è¾¹è·",n.marginRight.toString(),"8",T=>{n.marginRight=parseInt(T)||8},"number")),G.appendChild(this.createInputField("æŽ’åº",n.sort.toString(),"æ•°å­—è¶Šå°è¶Šé å·¦",T=>{n.sort=parseInt(T)||1,[...this.buttonConfigs].sort((S,M)=>S.sort-M.sort).forEach((S,M)=>{S.sort=M+1}),o()},"number")),G.appendChild(this.createSwitchField("å³ä¸Šè§’æç¤º",n.showNotification,T=>{n.showNotification=T})),D.onclick=T=>{T.target.closest("button")||(l=!l,G.style.display=l?"flex":"none",P.style.transform=l?"rotate(180deg)":"rotate(0deg)")},r.appendChild(D),r.appendChild(G),r}createInputField(n,i,o,s,r="text"){const l=document.createElement("div");l.style.cssText="display: flex; flex-direction: column; gap: 6px;";const c=document.createElement("label");c.style.cssText="font-size: 13px; font-weight: 500; color: var(--b3-theme-on-background);",c.textContent=n;const d=document.createElement("input");return d.type=r,d.value=i,d.placeholder=o,d.className="b3-text-field",d.style.cssText=`
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      font-size: 14px;
      box-sizing: border-box;
      width: 100%;
    `,d.onchange=()=>s(d.value),l.appendChild(c),l.appendChild(d),l}createSelectField(n,i,o,s){const r=document.createElement("div");r.style.cssText="display: flex; flex-direction: column; gap: 6px;";const l=document.createElement("label");l.style.cssText="font-size: 13px; font-weight: 500; color: var(--b3-theme-on-background);",l.textContent=n;const c=document.createElement("select");return c.className="b3-text-field",c.style.cssText=`
      width: 100%;
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      font-size: 14px;
      cursor: pointer;
    `,o.forEach(d=>{const a=document.createElement("option");a.value=d.value,a.textContent=d.label,c.appendChild(a)}),c.value=i,c.addEventListener("change",()=>{console.log("Select changed to:",c.value),s(c.value)}),r.appendChild(l),r.appendChild(c),r}createTextareaField(n,i,o,s){const r=document.createElement("div");r.style.cssText="display: flex; flex-direction: column; gap: 6px;";const l=document.createElement("label");l.style.cssText="font-size: 13px; font-weight: 500; color: var(--b3-theme-on-background);",l.textContent=n;const c=document.createElement("textarea");return c.value=i,c.placeholder=o,c.className="b3-text-field",c.style.cssText=`
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      font-size: 14px;
      resize: vertical;
      min-height: 60px;
      box-sizing: border-box;
      width: 100%;
    `,c.onchange=()=>s(c.value),r.appendChild(l),r.appendChild(c),r}createSwitchField(n,i,o){const s=document.createElement("div");s.style.cssText="display: flex; align-items: center; justify-content: space-between; padding: 4px 0;";const r=document.createElement("label");r.style.cssText="font-size: 13px; font-weight: 500; color: var(--b3-theme-on-background);",r.textContent=n;const l=document.createElement("input");return l.type="checkbox",l.className="b3-switch",l.checked=i,l.style.cssText="transform: scale(1.2);",l.onchange=()=>o(l.checked),s.appendChild(r),s.appendChild(l),s}createIconField(n,i,o){const s=document.createElement("div");s.style.cssText="display: flex; flex-direction: column; gap: 6px;";const r=document.createElement("div");r.style.cssText="display: flex; align-items: center; justify-content: space-between;";const l=document.createElement("label");l.style.cssText="font-size: 13px; font-weight: 500; color: var(--b3-theme-on-background);",l.textContent=n;const c=document.createElement("button");c.className="b3-button b3-button--outline",c.textContent="é€‰æ‹©",c.style.cssText=`
      padding: 4px 12px;
      font-size: 12px;
      flex-shrink: 0;
    `,r.appendChild(l),r.appendChild(c);const d=document.createElement("div");d.style.cssText="display: flex; gap: 8px; align-items: center;";const a=document.createElement("input");a.type="text",a.value=i,a.placeholder="è¾“å…¥emojiã€lucide:å›¾æ ‡å æˆ– iconå",a.className="b3-text-field",a.style.cssText=`
      flex: 1;
      padding: 8px 10px;
      border-radius: 6px;
      border: 1px solid var(--b3-border-color);
      background: var(--b3-theme-background);
      color: var(--b3-theme-on-background);
      font-size: 14px;
      box-sizing: border-box;
    `;const f=document.createElement("span");f.style.cssText=`
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background: var(--b3-theme-background);
      border: 1px solid var(--b3-border-color);
      font-size: 16px;
      flex-shrink: 0;
    `,this.updateIconDisplay(f,i),a.oninput=()=>{o(a.value),this.updateIconDisplay(f,a.value)},c.onclick=()=>{this.showIconPicker(a.value,h=>{a.value=h,o(h),this.updateIconDisplay(f,h)})},d.appendChild(a),d.appendChild(f);const m=document.createElement("div");return m.style.cssText="font-size: 10px; color: var(--b3-theme-on-surface-light); margin-top: 2px;",m.textContent="ðŸ”emoji | lucide:å›¾æ ‡å | iconå",s.appendChild(r),s.appendChild(d),s.appendChild(m),s}showIconPicker(n,i){uc({onSelect:i})}updateIconDisplay(n,i){lo(n,i)}applyFeatures(){this.removeFeatureStyles();const n=document.createElement("style");n.id="toolbar-customizer-feature-style";let i="";if(this.featureConfig.hideBreadcrumbIcon&&(i+=`
        .protyle-breadcrumb__icon {
          display: none !important;
        }
      `),this.featureConfig.hideReadonlyButton&&(i+=`
        .protyle-breadcrumb__bar button[data-type="readonly"],
        .protyle-breadcrumb button[data-type="readonly"] {
          display: none !important;
        }
      `),this.featureConfig.hideDocMenuButton&&(i+=`
        .protyle-breadcrumb__bar button[data-type="doc"],
        .protyle-breadcrumb button[data-type="doc"] {
          display: none !important;
        }
      `),this.featureConfig.hideMoreButton&&(i+=`
        .protyle-breadcrumb__bar button[data-type="more"],
        .protyle-breadcrumb button[data-type="more"] {
          display: none !important;
        }
      `),this.featureConfig.toolbarButtonWidth!==32&&(i+=`
        .protyle-breadcrumb__bar button[data-custom-button],
        .protyle-breadcrumb button[data-custom-button] {
          min-width: ${this.featureConfig.toolbarButtonWidth}px !important;
        }
      `),this.isMobile&&this.featureConfig.disableMobileSwipe){const{disableFileTree:o,disableSettingMenu:s}=this.featureConfig;o&&s?i+=`
          #sidebar.moving, #menu.moving, .side-mask.moving {
            display: none !important;
          }
        `:o?i+=`
          #sidebar.moving, .side-mask.moving.move-right {
            display: none !important;
          }
        `:s&&(i+=`
          #menu.moving, .side-mask.moving.move-left {
            display: none !important;
          }
        `),this.setupMobileSwipeDisable()}i&&(n.textContent=i,document.head.appendChild(n))}setupMobileSwipeDisable(){if(!this.isMobile||!this.featureConfig.disableMobileSwipe||!document.getElementById("sidebar"))return;let n=0,i=!0,o=null;const s=c=>{if(c.target.closest("#menu, #sidebar"))return;i=!0,n=c.touches[0].clientX},r=c=>{var h,b;if(c.target.closest("#menu, #sidebar"))return;i&&(i=!1,(h=document.getElementById("menu"))==null||h.classList.add("moving"),(b=document.getElementById("sidebar"))==null||b.classList.add("moving"),o=document.querySelector(".side-mask"),o==null||o.classList.add("moving"));const a=c.touches[0],f=(a==null?void 0:a.clientX)||0,m=f-n;Math.abs(m)>0&&o&&(m<0?(o.classList.contains("move-right")&&o.classList.remove("move-right"),o.classList.contains("move-left")||o.classList.add("move-left")):(o.classList.contains("move-left")&&o.classList.remove("move-left"),o.classList.contains("move-right")||o.classList.add("move-right")),n=f)},l=c=>{var a,f,m;c.target.closest("#menu, #sidebar")||(i||this.closeMobilePanel(),i=!0,(a=document.getElementById("menu"))==null||a.classList.remove("moving"),(f=document.getElementById("sidebar"))==null||f.classList.remove("moving"),(m=document.querySelector(".side-mask"))==null||m.classList.remove("moving"))};document.removeEventListener("touchstart",s,!0),document.removeEventListener("touchmove",r,!1),document.removeEventListener("touchend",l,!1),document.addEventListener("touchstart",s,!0),document.addEventListener("touchmove",r,!1),document.addEventListener("touchend",l,!1)}closeMobilePanel(){const n=document.getElementById("menu"),i=document.getElementById("sidebar"),o=document.querySelector(".side-mask");n&&(n.style.transform=""),i&&(i.style.transform=""),o&&(o.classList.add("fn__none"),o.style.opacity="")}applyMobileToolbarStyle(){if(!this.isMobile)return;const n="mobile-toolbar-background-color-style";let i=document.getElementById(n);i||(i=document.createElement("style"),i.id=n,document.head.appendChild(i));const o=[];(this.mobileConfig.toolbarBackgroundColor||this.mobileConfig.toolbarZIndex!==void 0)&&o.push(`
        @media (max-width: 768px) {
          .protyle-breadcrumb__bar[data-input-method],
          .protyle-breadcrumb[data-input-method] {
            background-color: ${this.mobileConfig.toolbarBackgroundColor} !important;
            opacity: ${this.mobileConfig.toolbarOpacity} !important;
            height: ${this.mobileConfig.toolbarHeight} !important;
            min-height: ${this.mobileConfig.toolbarHeight} !important;
            z-index: ${this.mobileConfig.toolbarZIndex} !important;
          }
          .protyle {
            padding-bottom: calc(${this.mobileConfig.toolbarHeight} + 10px) !important;
          }
        }
      `),i.textContent=o.join(`
`)}removeFeatureStyles(){const n=document.getElementById("toolbar-customizer-feature-style");n&&n.remove()}createLineNumberedTextarea(n,i){const o=document.createElement("div");o.style.cssText=`
      display: flex;
      border: 1px solid var(--b3-border-color);
      border-radius: 4px;
      overflow: hidden;
      background: var(--b3-theme-background);
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
      font-size: 13px;
      line-height: 1.5;
    `;const s=document.createElement("div");s.style.cssText=`
      padding: 8px 8px 8px 12px;
      background: var(--b3-theme-surface);
      color: var(--b3-theme-on-surface-light);
      text-align: right;
      user-select: none;
      border-right: 1px solid var(--b3-border-color);
      min-width: 40px;
    `;const r=document.createElement("textarea");r.className="b3-text-field",r.value=n,r.style.cssText=`
      flex: 1;
      resize: vertical;
      min-height: 120px;
      border: none;
      padding: 8px 12px;
      font-family: inherit;
      font-size: inherit;
      line-height: inherit;
      background: transparent;
      outline: none;
      box-shadow: none;
    `,r.placeholder=`.selector1
.selector2
.selector3`;const l=()=>{const c=r.value.split(`
`).length;s.innerHTML=Array.from({length:c},(d,a)=>a+1).join("<br>")};return o.updateLineNumbers=l,l(),r.addEventListener("input",()=>{l(),i(r.value)}),r.addEventListener("scroll",()=>{s.scrollTop=r.scrollTop}),o.appendChild(s),o.appendChild(r),o}}module.exports=mc;
